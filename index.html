<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WARIPAY</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
                /* Reset CSS */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            min-height: 100vh;
            background: #fff; /* Fond blanc pour le corps de la page */
            color: #333;
            position: relative;
            overflow-x: hidden;
        }


        /* Conteneur principal pour les opérations */
        .main-container {
            background: white;
            margin-top: -40px; /* Remonte le conteneur sur le bandeau */
            border-radius: 20px 20px 0 0;
            padding: 25px;
            box-shadow: 0 -5px 15px rgba(0,0,0,0.05);
            min-height: calc(100vh - 190px); /* Ajustement pour le bandeau rouge */
            position: relative;
            z-index: 2;
        }

        /* Style des cartes d'information */
        .info-card {
            background: white;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border: 1px solid #eee;
        }

        /* Style du solde */
        .balance-section {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid #eee;
        }

        /* Menu des opérations */
        .operation-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin: 10px 0;
        }

        .operation-item {
            text-align: center;
            padding: 15px 5px;
            border-radius: 8px;
            background: #f9f9f9;
            transition: all 0.3s;
        }

        .operation-item:hover {
            background: #f0f0f0;
            transform: translateY(-2px);
        }

        /* Menu de navigation */
        .nav-menu {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            display: flex;
            justify-content: space-around;
            padding: 10px 0;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
            z-index: 10;
        }

        .nav-item {
            text-align: center;
            font-size: 0.8em;
        }
        /* Ajuster les couleurs du texte pour le contraste */
        .left-column p, 
        .right-column p,
        .balance {
            color: #1436a5 !important;
        }

        /* Adapter les ombres */
        .left-column, 
        .right-column {
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        /* Boutons principaux */
        .btn-primary {
            background: linear-gradient(135deg, #1436a5, #1e3a8a);
            color: white;
            border: none;
        }

        /* Icônes */
        .inputIcon {
            color: #1436a5;
        }

        .btn-primary {
            width: 90%;
            height: 50px;
            background: linear-gradient(135deg, #1436a5, #1e3a8a);
            border: 2px solid transparent;
            border-radius: 10px;
            color: white;
            font-size: 1.2em;
            font-weight: 700;
            cursor: pointer;
            transition: box-shadow 0.3s, border-color 0.3s;
            margin: 20px 0;
            z-index: 2;
            position: relative;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
            animation: border-glow 2s infinite alternate;
        }

        @keyframes border-glow {
            0% {
                border-color: transparent;
            }
            50% {
                border-color: #f39c12;
            }
            100% {
                border-color: transparent;
            }
        }

        .btn-primary:hover {
            background: linear-gradient(135deg, #1e3a8a, #1436a5);
            border: 2px solid #f39c12;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.4);
            animation: none;
        }

        /* Styles pour le carrousel */
        .carousel-container {
            width: 500px;
            height: 250px;
            margin: 20px auto;
            overflow: hidden;
            position: relative;
            border-radius: 10px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
            border: 2px solid #1436a5; /* Bordure bleue */
        }

        .carousel-slides {
            display: flex;
            width: 100%;
            height: 100%;
            transition: transform 0.5s ease-in-out;
            border: 2px solid #1436a5; /* Bordure bleue */
    border-radius: 15px; /* Coins arrondis */
        }

        .carousel-slide {
            min-width: 100%;
            height: 100%;
            position: relative;
            border: 2px solid #1436a5; /* Bordure bleue */
    border-radius: 15px; /* Coins arrondis */
        }

        .carousel-slide img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border: 2px solid #1436a5; /* Bordure bleue */
    border-radius: 15px; /* Coins arrondis */
        }

        .carousel-caption {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.5);
            color: white;
            padding: 10px;
            text-align: center;
            font-size: 1em;
        }

        .carousel-indicators {
            position: absolute;
            bottom: 15px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 8px;
        }

        .carousel-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.5);
            cursor: pointer;
            transition: background 0.3s;
        }

        .carousel-indicator.active {
            background: white;
        }

        /* Animation de transition */
        @keyframes slideOut {
            from { transform: translateX(0); }
            to { transform: translateX(-100%); }
        }

        @keyframes slideIn {
            from { transform: translateX(100%); }
            to { transform: translateX(0); }
        }

         /* Reset CSS */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }


        @media (max-width: 480px) {
            .form_main {
                padding: 20px;
                border-radius: 10px;
            }

            .btn-primary, .menubtn-primary {
                font-size: 1em;
                padding: 10px;
            }

            .heading, .heading1 {
                font-size: 1.5em;
            }
        }

        @media (max-width: 360px) {
            .form_main {
                padding: 15px;
            }

            .inputField {
                font-size: 1em;
            }
        }

        .btn-primary {
            width: 90%;
            height: 50px;
            background: linear-gradient(135deg, #1436a5, #1e3a8a);
            border: 2px solid transparent;
            border-radius: 10px;
            color: white;
            font-size: 1.2em;
            font-weight: 700;
            cursor: pointer;
            transition: box-shadow 0.3s, border-color 0.3s;
            margin: 20px 0;
            z-index: 2;
            position: relative;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
            animation: border-glow 2s infinite alternate;
        }

        @keyframes border-glow {
            0% {
                border-color: transparent;
            }
            50% {
                border-color: #f39c12;
            }
            100% {
                border-color: transparent;
            }
        }

        .btn-primary:hover {
            background: linear-gradient(135deg, #1e3a8a, #1436a5);
            border: 2px solid #f39c12;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.4);
            animation: none;
        }

        .btn-primary span {
            display: inline-block;
            color: white;
            text-shadow: 2px 2px 0 rgba(0, 0, 0, 0.2);
            transition: text-shadow 0.3s;
        }

        .btn-primary:hover span {
            text-shadow: 3px 3px 0 rgba(0, 0, 0, 0.3);
        }

/* Style pour la section des boutons d'opérations */
.operations-section {
    background: rgba(20, 54, 165, 0.8); /* Fond bleu semi-transparent */
    border-radius: 20px;
    padding: 20px;
    margin: 20px 0;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    backdrop-filter: blur(10px); /* Effet de flou pour le verre */
    border: 1px solid rgba(255, 255, 255, 0.2);
    position: relative;
    overflow: hidden;
}

/* Effet de lumière derrière */
.operations-section::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 70%);
    z-index: 0;
}

/* Titre de la section */
.operations-title {
    color: white;
    font-size: 1.5em;
    margin-bottom: 20px;
    text-align: center;
    text-shadow: 0 2px 4px rgba(0,0,0,0.3);
    position: relative;
    z-index: 1;
}

/* Grille des boutons */
.operation-buttons {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 10px;
    position: relative;
    z-index: 1;
}

/* Nouveau style pour les boutons d'opérations */
.operation-buttons {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 15px;
    margin: 10px 0;
}

.menubtn-primary {
    width: 100%;
    height: 90px;
    background: #e3e3c4; /* Couleur de base bleue */
    border: none;
    border-radius: 12px;
    color: rgb(33, 7, 181);
    font-size: 1em;
    font-weight: 500;
    cursor: pointer;
    margin: 0;
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    padding: 10px;
    box-shadow: 
        0 4px 0 0 #124cd3, /* Ombre pour effet 3D */
        0 6px 10px rgba(0, 0, 0, 0.2); /* Ombre portée */
    transition: all 0.1s ease;
    transform-style: preserve-3d;
    overflow: hidden;
}

/* Effet de pression supprimé pour éviter le mouvement */
.menubtn-primary:active {
    transform: translateY(2px);
    box-shadow: 
        0 2px 0 0 #0d2a7a,
        0 3px 5px rgba(0, 0, 0, 0.2);
}

.menubtn-primary i {
    font-size: 1.8em;
    margin-bottom: 8px;
    color: white;
    text-shadow: 0 2px 3px rgba(0, 0, 0, 0.2);
}

/* Effet de surbrillance au survol */
.menubtn-primary:hover {
    filter: brightness(110%);
}

/* Effet de lumière pour le relief 3D */
.menubtn-primary::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 20%;
    background: rgba(255, 255, 255, 0.2);
    border-radius: 12px 12px 0 0;
}


/* Style pour les écrans plus petits */
@media (max-width: 768px) {
    .operation-buttons {
        grid-template-columns: repeat(3, 1fr);
    }
    
    .menubtn-primary {
        height: 70px;
        font-size: 1em;
    }
    
    .menubtn-primary i {
        font-size: 1.5em;
    }
}
/* Style de base pour les icônes - nettes et non floues */
.menubtn-primary i {
    font-size: 1.5em;
    margin-bottom: 8px;
    transition: all 0.3s ease;
    
    /* Icônes bien nettes */
    -webkit-font-smoothing: antialiased;
    text-rendering: optimizeLegibility;
    font-smooth: always;
    color : blue;
    
    /* Couleur de base */
    color: blue;
    
    /* Ombre portée pour meilleure lisibilité */
    text-shadow: 0 1px 3px rgba(0,0,0,0.3);
    
    /* Pas de flou sur l'icône elle-même */
    filter: none !important;
}

/* Suppression du backdrop-filter sur les icônes */
.menubtn-primary i {
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
}

/* Couleurs spécifiques pour chaque icône (version nette) */
.menubtn-primary:nth-child(1) i { color: #2ecc71; } /* Dépôt - Vert */
.menubtn-primary:nth-child(2) i { color: #9b59b6; } /* Transfert - Violet */
.menubtn-primary:nth-child(3) i { color: #e74c3c; } /* Retrait - Rouge */
.menubtn-primary:nth-child(4) i { color: #1abc9c; } /* Unité - Turquoise */
.menubtn-primary:nth-child(5) i { color: #f1c40f; } /* Internet - Jaune */
.menubtn-primary:nth-child(6) i { color: #3498db; } /* Transfert Inter - Bleu */
.menubtn-primary:nth-child(7) i { color: #e74c3c; } /* TV - Rouge */
.menubtn-primary:nth-child(8) i { color: #2ecc71; } /* Facture - Vert */
.menubtn-primary:nth-child(9) i { color: #e67e22; } /* Pari SP - Orange */

/* Effets au survol (icônes restent nettes) */
.menubtn-primary:hover i {
    transform: scale(1.15);
    opacity: 1;
    text-shadow: 0 0 12px currentColor;
}

/* Version alternative avec fond circulaire net */
.menubtn-primary i.with-circle {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: rgba(255,255,255,0.15);
    border: 1px solid rgba(255,255,255,0.3);
    margin-bottom: 10px;
    
    /* Le fond peut être flouté mais pas l'icône */
    backdrop-filter: blur(4px);
    -webkit-backdrop-filter: blur(4px);
  
}

/* Animation de pulse pour les icônes (nette) */
@keyframes iconPulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.1); }
    100% { transform: scale(1); }
}

/* Classe pour icônes en surbrillance */
.highlight-icon i {
    animation: iconPulse 1.5s infinite;
    color: #f39c12 !important;
    filter: drop-shadow(0 0 8px rgba(243, 156, 18, 0.7));
}
        .inputContainer {
            width: 100%;
            position: relative;
            margin: 15px 0;
            z-index: 3;
            color: green;
        }

        .heading, .heading1 {
            font-size: 2em;
            color: blue;
            font-weight: 700;
            margin-bottom: 20px;
            z-index: 2;
            position: relative;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }

        .inputIcon {
            position: absolute;
            left: 10px;
            top: 50%;
            transform: translateY(-50%);
            color: blue;
            z-index: 3;
        }

        .link-as-button {
            display: inline-block;
            padding: 10px 20px;
            background-color: #1436a5;
            color: white;
            text-decoration: none;
            border-radius: 5px;
            font-size: 1em;
            font-weight: 500;
            transition: background-color 0.3s, transform 0.3s;
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
        }

        .link-as-button:hover {
            background-color: #1e3a8a;
            transform: scale(1.05);
        }

        .inputField {
            width: 100%;
            height: 40px;
            padding-left: 35px;
            border: 2px solid #6b7280;
            border-radius: 10px;
            font-size: 1.1em;
            color: #f39c12;
            background: transparent;
            transition: border-color 0.3s, box-shadow 0.3s;
        }

        .inputField:focus {
            outline: none;
            border-color: #1436a5;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .inputField::placeholder {
            color: #6b7280;
        }

        .hidden {
            display: none;
        }


        .user-info-background {
    background-color: blue;
    width: 100%;
    padding: 20px 0;
    margin-top: -40px; /* Pour remonter vers le haut */
    border-bottom-left-radius: 20px;
    border-bottom-right-radius: 20px;
    position: relative;
    z-index: 2;
}

.user-info-simple {
    max-width: 600px;
    margin: 0 auto;
    padding: 0 15px;
}

.info-columns {
    display: flex;
    justify-content: space-between;
    gap: 15px;
}

.left-column, .right-column {
    flex: 1;
    background: transparent;
    padding: 10px;
}

/* Ajustez le conteneur principal pour éviter le chevauchement */
.main-container {
    margin-top: 0; /* Supprimez le margin-top négatif */
    padding-top: 40px; /* Ajoutez du padding à la place */
}
        /* Style pour l'icône de vérification */
        .verification-check {
            color: #28a745; /* Couleur verte pour la vérification */
            margin-left: 5px;
        }

        .heading1 {
            font-size: 1.5em;
            color: #1436a5;
            font-weight: 700;
            margin-bottom: 10px;
            text-align: center;
        }

       
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .modal-icon {
            font-size: 2em;
            margin-bottom: 10px;
        }

        .modal-icon.success {
            color: #28a745;
        }

        .modal-icon.error {
            color: #dc3545;
        }

        .modal-button {
            margin-top: 20px;
            padding: 10px 50px;
            background: #28a745;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.3s;
        }

        .modal-button:hover {
            background: #218838;
            transform: scale(1.05);
        }

        .close {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 24px;
            cursor: pointer;
            color: #aaa;
            transition: color 0.3s;
        }

        .close:hover {
            color: #333;
        }

        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3498db;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .loader-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .logo {
            display: block;
            margin: 0 auto 20px;
            width: 100px;
            filter: drop-shadow(2px 2px 4px rgba(0, 0, 0, 0.2));
        }

        .verification-check {
            display: none;
            margin-left: 5px;
            color: #00008B;
            font-size: 16px;
        }

        .verification-check.visible {
            display: inline-block;
            color: blue;
        }

        .history-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            z-index: 3;
        }

        .history-table th, .history-table td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
            z-index: 3;
        }

        .history-table th {
            background-color: #f39c12;
            color: white;
        }

        .history-table tr:nth-child(even) {
            background-color: #f9f9f9;
        }

        .history-table tr:hover {
            background-color: #f1f1f1;
        }
        
        .history-table tr {
            transition: transform 0.3s;
        }

        .history-table tr.swipe-left {
            transform: translateX(-100%);
            opacity: 0;
        }
        /* Style pour les alertes stylées et centrées */
.alert {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    padding: 20px 30px;
    border-radius: 15px;
    background: linear-gradient(135deg, #1436a5, #1e3a8a);
    color: white;
    font-weight: bold;
    text-align: center;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
    z-index: 10000;
    animation: alertFadeIn 0.3s ease-out, alertFadeOut 0.3s ease-out 2.7s forwards;
    display: flex;
    align-items: center;
    justify-content: center;
    max-width: 80%;
    min-width: 250px;
}

.alert i {
    margin-right: 10px;
    font-size: 1.2em;
}

.alert.success {
    background: linear-gradient(135deg, #28a745, #218838);
}

.alert.error {
    background: linear-gradient(135deg, #dc3545, #c82333);
}

.alert.warning {
    background: linear-gradient(135deg, #ffc107, #e0a800);
}

.alert.info {
    background: linear-gradient(135deg, #17a2b8, #138496);
}

@keyframes alertFadeIn {
    from {
        opacity: 0;
        transform: translate(-50%, -60%);
    }
    to {
        opacity: 1;
        transform: translate(-50%, -50%);
    }
}

@keyframes alertFadeOut {
    from {
        opacity: 1;
        transform: translate(-50%, -50%);
    }
    to {
        opacity: 0;
        transform: translate(-50%, -40%);
        visibility: hidden;
    }
}
/* Styles pour le modal de politique */
#policyModal .modal-content {
    max-height: 80vh;
    display: flex;
    flex-direction: column;
}

#policyModal .modal-content > div:first-child {
    overflow-y: auto;
    flex-grow: 1;
    margin: 15px 0;
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 5px;
}

#policyCheckbox {
    margin-right: 10px;
}

/* Style pour le bouton historique */
.balance button {
    background: linear-gradient(135deg, #1e3a8a, #1436a5);
    border: none;
    color: white;
    border-radius: 5px;
    cursor: pointer;
    transition: all 0.3s;
}

.balance button:hover {
    background: linear-gradient(135deg, #1436a5, #1e3a8a);
    transform: translateY(-2px);
}

.balance button i {
    margin-right: 5px;
}

/* Styles pour les carrousels */
.carousel-container {
    width: 400px;
    height: 190px;
    margin: 20px 0;
    overflow: hidden;
    border-radius: 5px;
    border:#00008B;
}

.carousel {
    display: flex;
    transition: transform 0.5s ease;
    height: 100%;
    border: 2px solid #1436a5; /* Bordure bleue */
    border-radius: 15px; /* Coins arrondis */
}

.carousel-item {
    min-width: 360px;
    box-sizing: border-box;
    padding: 0 5px;
    height: 100%;
}

.carousel-item img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 10px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    border: 5px solid #1436a5; /* Bordure bleue */
   
}

.carousel-controls {
    display: flex;
    justify-content: center;
    margin-top: 10px;
}

.carousel-control {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background: #ccc;
    margin: 0 5px;
    cursor: pointer;
}

.carousel-control.active {
    background: #1436a5;
}
.info-columns {
    display: flex;
    justify-content: space-between;
    gap: 15px;
    margin-bottom: 20px;
}

.left-column, .right-column {
    flex: 1;
    padding: 15px;
    border-radius: 10px;
    background: white;
    border: 2px solid #e0e0e0;
    box-shadow: 3px 3px 0 0 #1436a5, 
                5px 5px 0 0 rgba(20, 54, 165, 0.2);
    position: relative;
    transition: all 0.3s ease;
}

/* Style pour la colonne de solde lorsqu'elle est active */
.right-column.active {
    background: #f8f9fa;
    border-color: #1436a5;
    box-shadow: 3px 3px 0 0 #f39c12, 
                5px 5px 0 0 rgba(243, 156, 18, 0.2);
}

.left-column p, .right-column p {
    margin: 3px 0;
    color: #1436a5;
    font-size: 0.95em;
}

.balance {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 1em;
}

#toggleBalanceIcon {
    cursor: pointer;
    color: #1436a5;
    transition: all 0.2s;
    padding: 5px;
    border-radius: 50%;
    background: rgba(20, 54, 165, 0.1);
}

#toggleBalanceIcon:hover {
    background: rgba(20, 54, 165, 0.2);
    transform: scale(1.05);
}

.verification-check {
    color: #28a745;
    margin-left: 5px;
    font-size: 0.9em;
}

/* Style lorsque le solde est visible */
.balance-visible .right-column {
    background: #f0f4ff;
    border-color: #1436a5;
}
/* Style pour le formulaire principal */

/* Centrer le contenu du formulaire */
body {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    background: blanc; /* Fond rouge uni */
    padding: 20px;
}

/* Ajuster pour les écrans plus petits */
@media (max-width: 480px) {
    .form_main {
        padding: 20px;
        border-radius: 10px;
    }

    .btn-primary, .menubtn-primary {
        font-size: 1em;
        padding: 10px;
    }

    .heading, .heading1 {
        font-size: 1.5em;
    }
}

@media (max-width: 360px) {
    .form_main {
        padding: 15px;
    }

    .inputField {
        font-size: 0.9em;
    }
}
/* Ajouter des bordures et des ombres uniquement pour les formulaires de connexion et d'inscription */
#login-section,
#register-section {
    border: 2px solid #1436a5; /* Bordure bleue */
    border-radius: 15px; /* Coins arrondis */
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Ombre légère */
    padding: 20px; /* Espace intérieur */
    background: white; /* Fond blanc */
    max-width: 500px; /* Largeur maximale */
    margin: 20px auto; /* Centrage horizontal */
    position: relative;
    z-index: 2;
}

/* Style pour les titres des sections */
.heading {
    text-align: center;
    margin-bottom: 20px;
    color: #1436a5; /* Couleur bleue pour les titres */
}

/* Style pour les champs de saisie */
.inputContainer {
    margin-bottom: 15px; /* Espace entre les champs */
}

.inputField {
    border: 2px solid #1436a5; /* Bordure bleue */
    border-radius: 10px; /* Coins arrondis */
    padding: 10px; /* Espace intérieur */
    font-size: 1em; /* Taille de la police */
}

/* Style pour les boutons */
.btn-primary {
    background: white;
    color: blue;
    border: none;
    border-radius: 25px;
    padding: 10px;
    font-size: 1.2em;
    cursor: pointer;
    transition: background 0.3s, transform 0.3s;
}

.btn-primary:hover {
    background: linear-gradient(135deg, #1e3a8a, #1436a5);
    transform: scale(1.05);
}

/* Style pour les liens */
.link-as-button {
    display: inline-block;
    padding: 10px 20px;
    background-color: #1436a5;
    color: white;
    text-decoration: none;
    border-radius: 5px;
    font-size: 1em;
    transition: background-color 0.3s, transform 0.3s;
}

.link-as-button:hover {
    background-color: #e98c01;
    transform: scale(1.05);
}

.inputContainer {
    width: 100%;
    position: relative;
    margin: 15px 0;
    z-index: 3;
}

.inputIcon {
    position: absolute;
    left: 15px; /* Augmenté de 10px à 15px */
    top: 50%;
    transform: translateY(-50%);
    color: rgb(255, 132, 0);
    z-index: 3;
}

.inputField {
    width: 100%;
    height: 40px;
    padding-left: 45px; /* Augmenté de 35px à 45px */
    border: 2px solid #6b7280;
    border-radius: 10px;
    font-size: 1.1em;
    color: #068206;
    background: transparent;
    transition: border-color 0.3s, box-shadow 0.3s;
}
   /* Styles pour le menu hamburger */
    .hamburger-menu {
        position: fixed;
        top: 20px;
        left: 20px;
        z-index: 1000;
        cursor: pointer;
    }
    
    .hamburger-icon {
        font-size: 24px;
        color: white;
    }
    
    .sidebar-menu {
        position: fixed;
        top: 0;
        left: -300px;
        width: 250px;
        height: 100%;
        background: linear-gradient(135deg, #1436a5, #1e3a8a);
        color: white;
        transition: all 0.3s ease;
        z-index: 999;
        box-shadow: 2px 0 10px rgba(0,0,0,0.2);
    }
    
    .sidebar-menu.open {
        left: 0;
    }
    
    .menu-header {
        padding: 20px;
        border-bottom: 1px solid rgba(255,255,255,0.2);
        text-align: center;
    }
    
    .menu-items {
        padding: 15px 0;
    }
    
    .menu-item {
        padding: 12px 20px;
        cursor: pointer;
        transition: all 0.2s;
        display: flex;
        align-items: center;
    }
    
    .menu-item:hover {
        background: rgba(255,255,255,0.1);
    }
    
    .menu-item i {
        margin-right: 10px;
        width: 20px;
        text-align: center;
    }
    
    .close-menu {
        position: absolute;
        top: 10px;
        right: 10px;
        font-size: 20px;
        cursor: pointer;
    }
    
    /* Overlay pour le menu */
    .menu-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.5);
        z-index: 998;
        display: none;
    }
    
    .menu-overlay.active {
        display: block;
    }
    
    /* Styles pour les modals du menu */
    .modal {
      display: none;
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      height: auto;
      max-height: 90vh;
      background: rgba(0, 0, 0, 0.5);
      justify-content: center;
      align-items: flex-end; /* Aligner en bas */
      z-index: 1000;
      overflow: hidden;
  }
  
  .modal-content {
      background: #fff;
      padding: 20px;
      border-radius: 15px 15px 0 0;
      text-align: center;
      width: 100%;
      max-width: 100%;
      animation: slideUp 0.3s ease-out;
      box-shadow: 0 -5px 15px rgba(0,0,0,0.2);
  }
  
  @keyframes slideUp {
      from { 
          transform: translateY(100%);
          opacity: 0;
      }
      to { 
          transform: translateY(0);
          opacity: 1;
      }
  }
  
  @keyframes slideDown {
      from { 
          transform: translateY(0);
          opacity: 1;
      }
      to { 
          transform: translateY(100%);
          opacity: 0;
      }
  }
  
  /* Ajoutez ceci pour les modals du menu */
  .menu-modal {
      display: none;
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      max-height: 80vh;
      background: white;
      border-radius: 15px 15px 0 0;
      z-index: 1001;
      box-shadow: 0 -5px 20px rgba(0,0,0,0.2);
      animation: slideUp 0.3s;
      overflow-y: auto;
  }
  
  .menu-modal-content {
      padding: 20px;
      padding-bottom: 30px; /* Espace pour éviter que le contenu ne soit caché par les coins arrondis */
  }
    .user-info-item {
        margin-bottom: 10px;
    }
    
    .user-info-label {
        font-weight: bold;
        color: #1436a5;
    }
    
    .user-info-value {
        color: #333;
    }
      /* Style pour l'heure et la date */
    .datetime-container {
        position: fixed;
        top: 10px;
        right: 10px;
        z-index: 1000;
        color: black;
        text-align: right;
        font-family: 'Arial', sans-serif;
        text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);
    }
    
    .current-time {
        font-size: 1.5em;
        font-weight: bold;
        margin-bottom: 5px;
    }
    
    .current-date {
        font-size: 1em;
        opacity: 0.9;
    }
    
    /* Pour la version mobile */
    @media (max-width: 768px) {
        .datetime-container {
            top: 15px;
            right: 15px;
        }
        
        .current-time {
            font-size: 1.2em;
        }
        
        .current-date {
            font-size: 0.9em;
        }
    }
      .datetime-container {
        position: fixed;
        top: 10px;
        right: 10px;
        z-index: 1000;
        color: black;
        text-align: right;
        font-family: 'Arial', sans-serif;
        text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);
        background: rgba(255, 255, 255, 0.8);
        padding: 10px;
        border-radius: 10px;
    }
    
    .current-time {
        font-size: 1.5em;
        font-weight: bold;
        margin-bottom: 5px;
    }
    
    .current-date {
        font-size: 1em;
        opacity: 0.9;
        margin-bottom: 5px;
    }
    
    .current-temperature {
        font-size: 1em;
        display: flex;
        align-items: center;
        justify-content: flex-end;
    }
    
    .current-temperature i {
        margin-right: 5px;
    }
    
    /* Pour la version mobile */
    @media (max-width: 768px) {
        .datetime-container {
            top: 15px;
            right: 15px;
            padding: 8px;
        }
        
        .current-time {
            font-size: 1.2em;
        }
        
        .current-date {
            font-size: 0.9em;
        }
        
        .current-temperature {
            font-size: 0.9em;
        }
    }

     /* Menu hamburger */
    .hamburger-menu {
        position: fixed;
        top: 20px;
        left: 20px;
        z-index: 1001; /* Au-dessus de la météo */
        cursor: pointer;
        background: rgba(255, 255, 255, 0.8);
        padding: 8px 10px;
        border-radius: 10px;
    }
    
    .hamburger-icon {
        font-size: 20px;
        color: #1436a5;
    }
    

    /* Date et heure réduites */
    .datetime-container {
        position: fixed;
        top: 20px;
        right: 20px;
        z-index: 1000;
        color: blue;
        text-align: right;
        font-family: 'Arial', sans-serif;
        background: rgba(255, 255, 255, 0.8);
        padding: 8px 10px;
        border-radius: 10px;
        min-width: 120px;
    }
    
    .current-time {
        font-size: 1.1em;
        font-weight: bold;
        margin-bottom: 2px;
    }
    
    .current-date {
        font-size: 0.8em;
        opacity: 0.9;
    }
    
    /* Responsive */
    @media (max-width: 768px) {
        .hamburger-menu {
            top: 15px;
            left: 15px;
            padding: 6px 8px;
        }
        
        .weather-container {
            top: 50px;
            left: 15px;
            padding: 6px;
        }
        
        .datetime-container {
            top: 15px;
            right: 15px;
            padding: 6px 8px;
        }
        
        .current-time {
            font-size: 1em;
        }
        
        .current-date {
            font-size: 0.7em;
        }
    }
    
    @media (max-width: 480px) {
        .weather-container {
            top: 45px;
            min-width: 100px;
        }
        
        .current-location {
            max-width: 80px;
            font-size: 0.6em;
        }
        
        .datetime-container {
            min-width: 100px;
        }
    }
    .menu-header {
    padding: 20px;
    border-bottom: 1px solid rgba(255,255,255,0.2);
    text-align: center;
    background: rgba(0,0,0,0.1);
}

.weather-info {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    margin-bottom: 10px;
}

.weather-icon {
    font-size: 2em;
    color: white;
}

.current-temperature {
    font-weight: bold;
    font-size: 1.2em;
    color: white;
}

.current-location {
    font-size: 0.8em;
    color: rgba(255,255,255,0.8);
}

.current-date {
    font-size: 0.9em;
    color: rgba(255,255,255,0.9);
    margin-top: 10px;
}
  /* Animation d'entrée/sortie des modals */
    @keyframes modalSlideIn {
        from { transform: translateY(100%); opacity: 0; }
        to { transform: translateY(0); opacity: 1; }
    }
    
    @keyframes modalSlideOut {
        from { transform: translateY(0); opacity: 1; }
        to { transform: translateY(100%); opacity: 0; }
    }
    
    /* Styles des modals */
    .menu-modal {
        display: none;
        position: fixed;
        bottom: 0;
        left: 0;
        width: 100%;
        max-height: 85vh;
        background: blue;
        border-radius: 25px 25px 0 0;
        z-index: 1001;
        box-shadow: 0 -10px 30px rgba(0,0,0,0.2);
        overflow: hidden;
        animation: modalSlideIn 0.4s cubic-bezier(0.23, 1, 0.32, 1);
        will-change: transform;
    }
    
    .menu-modal.closing {
        animation: modalSlideOut 0.3s cubic-bezier(0.23, 1, 0.32, 1);
    }
    
    .menu-modal-header {
        position: relative;
        padding: 20px;
        background: linear-gradient(135deg, #1436a5, #1e3a8a);
        color: white;
        text-align: center;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    
    .menu-modal-title {
        font-size: 1.3em;
        font-weight: 600;
        letter-spacing: 0.5px;
    }
    
    .menu-modal-close {
        position: absolute;
        top: 15px;
        right: 15px;
        font-size: 1.5em;
        cursor: pointer;
        transition: transform 0.2s;
    }
    
    .menu-modal-close:hover {
        transform: scale(1.1);
    }
    
    .menu-modal-content {
        padding: 0;
        height: 100%;
        display: flex;
        flex-direction: column;
    }
    
    .menu-modal-body {
        flex: 1;
        padding: 20px;
        overflow-y: auto;
        -webkit-overflow-scrolling: touch;
    }
    
    /* Styles des éléments d'information */
    .user-info-item {
        padding: 15px 0;
        border-bottom: 1px solid rgba(0,0,0,0.05);
        animation: fadeIn 0.3s ease-out;
        animation-fill-mode: both;
    }
    
    .user-info-item:nth-child(1) { animation-delay: 0.1s; }
    .user-info-item:nth-child(2) { animation-delay: 0.2s; }
    .user-info-item:nth-child(3) { animation-delay: 0.3s; }
    .user-info-item:nth-child(4) { animation-delay: 0.4s; }
    
    .user-info-label {
        font-size: 0.85em;
        color: #666;
        margin-bottom: 5px;
        font-weight: 500;
    }
    
    .user-info-value {
        font-size: 1.1em;
        color: #333;
        font-weight: 600;
    }
    
    /* Boutons dans les modals */
    .modal-action-btn {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 100%;
        padding: 15px;
        margin-top: 20px;
        background: linear-gradient(135deg, #1436a5, #1e3a8a);
        color: white;
        border: none;
        border-radius: 12px;
        font-size: 1em;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.3s;
        box-shadow: 0 4px 15px rgba(20, 54, 165, 0.3);
    }
    
    .modal-action-btn i {
        margin-right: 10px;
        font-size: 1.2em;
    }
    
    .modal-action-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(20, 54, 165, 0.4);
    }
    
    /* Effet de verre pour les modals */
    .menu-modal-body {
        background: rgba(255, 255, 255, 0.9);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
    }
    
    /* Animation des éléments */
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
    }
    
    /* Style spécifique pour le modal de profil */
    .profile-header {
        display: flex;
        align-items: center;
        padding: 20px;
        background: linear-gradient(135deg, #1436a5, #1e3a8a);
        color: white;
        margin-bottom: 20px;
    }
    
    .profile-avatar {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        background: rgba(255,255,255,0.2);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.8em;
        margin-right: 15px;
    }
    

    
    /* Section de sécurité renforcée */
    .security-level {
        display: flex;
        align-items: center;
        margin-top: 15px;
    }
    
    .security-meter {
        flex: 1;
        height: 6px;
        background: #eee;
        border-radius: 3px;
        overflow: hidden;
        margin: 0 10px;
    }
    
    .security-progress {
        height: 100%;
        width: 80%;
        background: linear-gradient(90deg, #4CAF50, #8BC34A);
        border-radius: 3px;
    }
    
    .security-label {
        font-size: 0.8em;
        font-weight: 600;
        color: #4CAF50;
    }
    
/* Styles spécifiques pour les formulaires de connexion/inscription */
#login-section, #register-section {
    background: white;
    border-radius: 20px;
    padding: 30px;
    box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
    max-width: 450px;
    margin: 30px auto;
    position: relative;
    overflow: hidden;
    z-index: 10;
    border: 7px solid blue;
    animation: fadeInUp 0.6s ease-out;
}

#login-section::before, #register-section::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: linear-gradient(
        45deg,
        rgba(20, 54, 165, 0.1) 0%,
        rgba(255, 255, 255, 0) 50%,
        rgba(20, 54, 165, 0.1) 100%
    );
    transform: rotate(45deg);
    z-index: 1;
    animation: shimmer 8s infinite linear;
}

@keyframes shimmer {
    0% { transform: rotate(45deg) translateX(-50%); }
    100% { transform: rotate(45deg) translateX(50%); }
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.heading {
    color: blue;
    font-size: 2rem;
    margin-bottom: 25px;
    text-align: center;
    position: relative;
    padding-bottom: 15px;
    font-weight: 700;
    text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
}

.heading::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 80px;
    height: 4px;
    background: white;
        color: white;
    border-radius: 2px;
}

.inputContainer {
    position: relative;
    margin-bottom: 25px;
    transition: all 0.3s;
}

.inputContainer:hover {
    transform: translateY(-2px);
}

.inputIcon {
    position: absolute;
    left: 15px;
    top: 50%;
    transform: translateY(-50%);
    color: #1436a5;
    font-size: 1.2rem;
    transition: all 0.3s;
}

.inputField {
    width: 100%;
    padding: 15px 15px 15px 50px;
    border: 2px solid #e0e0e0;
    border-radius: 12px;
    font-size: 1rem;
    color: #333;
    transition: all 0.3s;
    background-color: rgba(255, 255, 255, 0.8);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
}

.inputField:focus {
    outline: none;
    border-color: #1436a5;
    box-shadow: 0 5px 20px rgba(20, 54, 165, 0.2);
    padding-left: 55px;
}

.inputField:focus + .inputIcon {
    color: #f39c12;
    transform: translateY(-50%) scale(1.1);
}

.link-as-button {
    display: inline-block;
    padding: 12px 25px;
    background: white;
    color: blue;
    text-decoration: none;
    border-radius: 30px;
    font-size: 1rem;
    font-weight: 500;
    transition: all 0.3s;
    box-shadow: 0 5px 15px rgba(20, 54, 165, 0.3);
    margin-top: 15px;
    border: none;
    cursor: pointer;
    overflow: hidden;
    position: relative;
}

.link-as-button::after {
    content: '';
    position: absolute;
    top: -50%;
    left: -60%;
    width: 200%;
    height: 200%;
    background: linear-gradient(
        to right,
        rgba(255, 255, 255, 0.3) 0%,
        rgba(255, 255, 255, 0) 100%
    );
    transform: rotate(30deg);
    transition: all 0.3s;
}

.link-as-button:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 25px rgba(20, 54, 165, 0.4);
}

.link-as-button:hover::after {
    left: 100%;
}

.logo {
    width: 120px;
    margin: 0 auto 20px;
    display: block;
    filter: drop-shadow(0 5px 10px rgba(0, 0, 0, 0.1));
    animation: pulse 2s infinite;
}




/* Animation pour les champs lorsqu'ils apparaissent */
#login-form .inputContainer,
#register-form .inputContainer {
    animation: fadeIn 0.5s ease-out forwards;
    opacity: 0;
}

#login-form .inputContainer:nth-child(1) { animation-delay: 0.2s; }
#login-form .inputContainer:nth-child(2) { animation-delay: 0.4s; }
#login-form button { animation-delay: 0.6s; }

#register-form .inputContainer:nth-child(1) { animation-delay: 0.2s; }
#register-form .inputContainer:nth-child(2) { animation-delay: 0.3s; }
#register-form .inputContainer:nth-child(3) { animation-delay: 0.4s; }
#register-form button { animation-delay: 0.5s; }

@keyframes fadeIn {
    to { opacity: 1; }
}

/* Message d'erreur stylé */
small[style*="color: red"] {
    display: block;
    margin-top: 5px;
    padding: 5px 10px;
    background: rgba(255, 0, 0, 0.1);
    border-left: 3px solid red;
    border-radius: 0 4px 4px 0;
    animation: shake 0.5s;
}

@keyframes shake {
    0%, 100% { transform: translateX(0); }
    20%, 60% { transform: translateX(-5px); }
    40%, 80% { transform: translateX(5px); }
}
/* Styles pour le modal de géolocalisation */
#geolocationModal .modal-content {
    text-align: center;
    max-width: 90%;
    border-radius: 15px;
}

#geolocationModal .modal-icon {
    font-size: 3em;
    color: #1436a5;
    margin-bottom: 15px;
}

#geolocationModal h2 {
    color: #1436a5;
    margin-bottom: 15px;
}

#geolocationModal p {
    margin-bottom: 10px;
    color: #555;
}

.btn-secondary {
    background: #f0f0f0;
    color: #333;
    border: none;
    border-radius: 10px;
    padding: 10px 20px;
    margin-top: 10px;
    cursor: pointer;
    transition: all 0.3s;
}

.btn-secondary:hover {
    background: #e0e0e0;
}
.loader-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(255, 255, 255, 0.9);
    z-index: 9999;
}

.wari-loader {
    position: relative;
    width: 100px; /* Ajustez à la taille de votre logo */
    height: 100px; /* Ajustez à la taille de votre logo */
    margin-bottom: 20px;
}

.loader-logo {
    width: 100%;
    height: 100%;
    object-fit: contain;
    position: relative;
    z-index: 1;
}

.circles-container {
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
}

.circle {
    position: absolute;
    width: 100%;
    height: 100%;
    border: 3px solid transparent;
    border-radius: 50%;
    animation: rotate 2s linear infinite;
    box-sizing: border-box;
}

.circle:nth-child(1) {
    border-top-color: #3498db;
    animation-delay: 0.15s;
}

.circle:nth-child(2) {
    border-left-color: #e74c3c;
    animation-delay: 0.3s;
}

.circle:nth-child(3) {
    border-right-color: #f1c40f;
    animation-delay: 0.45s;
}

@keyframes rotate {
    0% {
        transform: rotate(0deg);
    }
    100% {
        transform: rotate(360deg);
    }
}

.loader-text {
    margin-top: 20px;
    font-size: 16px;
    color: #333;
}

.progress-bar {
    width: 200px;
    height: 4px;
    background-color: #e0e0e0;
    border-radius: 2px;
    margin-top: 20px;
    overflow: hidden;
}

.progress {
    height: 100%;
    background-color: #2ecc71;
    width: 0%;
    animation: progress 3s ease-in-out infinite;
}

@keyframes progress {
    0% { width: 0%; }
    50% { width: 100%; }
    100% { width: 0%; }
}
/* Style pour le modal de mise à jour du solde */
#balanceUpdateModal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    z-index: 1000;
    justify-content: center;
    align-items: center;
}

#balanceUpdateModal .modal-content {
    background: white;
    padding: 20px;
    border-radius: 10px;
    max-width: 80%;
    text-align: center;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
}

#balanceUpdateModal .modal-icon {
    font-size: 2em;
    color: #1436a5;
    margin-bottom: 10px;
}

#balanceUpdateModal .modal-message {
    margin: 15px 0;
    color: #333;
}

#balanceUpdateModal .modal-button {
    padding: 10px 20px;
    background: #1436a5;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s;
}

#balanceUpdateModal .modal-button:hover {
    background: #1e3a8a;
}
/* Style pour les textarea dans les modals */
.inputField[type="textarea"],
.inputField[rows] {
    height: auto;
    min-height: 100px;
    padding-top: 10px;
    resize: vertical;
}

/* Style pour les selects */
.inputField[type="select"] {
    appearance: none;
    -webkit-appearance: none;
    -moz-appearance: none;
    background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%231436a5'%3e%3cpath d='M7 10l5 5 5-5z'/%3e%3c/svg%3e");
    background-repeat: no-repeat;
    background-position: right 10px center;
    background-size: 12px;
}

/* Style pour les file inputs */
.inputField[type="file"] {
    padding-top: 8px;
    padding-bottom: 8px;
}

/* Style pour les petits textes d'information */
small {
    display: block;
    margin-top: 5px;
    color: #666;
    font-size: 0.8em;
}
/* Style pour les boutons d'action dans les modals */
.modal-action-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    padding: 12px;
    margin: 5px 0;
    background: linear-gradient(135deg, #1436a5, #1e3a8a);
    color: white;
    border: none;
    border-radius: 8px;
    font-size: 0.9em;
    cursor: pointer;
    transition: all 0.3s;
}

.modal-action-btn i {
    margin-right: 10px;
    font-size: 1.1em;
}

.modal-action-btn:hover {
    background: linear-gradient(135deg, #1e3a8a, #1436a5);
    transform: translateY(-2px);
}
/* Styles pour les boutons de partage */
.share-platforms {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 15px;
    margin-top: 15px;
}

.share-platform {
    display: flex;
    flex-direction: column;
    align-items: center;
    background: none;
    border: none;
    cursor: pointer;
    padding: 10px 5px;
    border-radius: 10px;
    transition: all 0.3s;
}

.share-platform:hover {
    background: rgba(20, 54, 165, 0.1);
    transform: translateY(-3px);
}

.share-platform span {
    margin-top: 8px;
    font-size: 0.8em;
    color: #333;
}

.share-icon {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 1.5em;
    transition: transform 0.3s;
}

.share-platform:hover .share-icon {
    transform: scale(1.1);
}

/* Animation pour le message de copie */
@keyframes fadeInOut {
    0% { opacity: 0; transform: translateY(10px); }
    20% { opacity: 1; transform: translateY(0); }
    80% { opacity: 1; transform: translateY(0); }
    100% { opacity: 0; transform: translateY(-10px); }
}
/* Style spécifique pour le modal de partage */
#shareModal {
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100%;
    max-height: 80vh;
    background: white;
    border-radius: 25px 25px 0 0;
    z-index: 1001;
    box-shadow: 0 -10px 30px rgba(0,0,0,0.2);
    animation: modalSlideIn 0.4s cubic-bezier(0.23, 1, 0.32, 1);
    overflow-y: auto;
}

#shareModal .menu-modal-content {
    padding: 20px;
    padding-bottom: 30px;
}

#shareModal .share-platforms {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 15px;
    margin-top: 15px;
}

#shareModal .share-platform {
    display: flex;
    flex-direction: column;
    align-items: center;
    background: none;
    border: none;
    cursor: pointer;
    padding: 10px 5px;
    border-radius: 10px;
    transition: all 0.3s;
}

#shareModal .share-platform:hover {
    background: rgba(20, 54, 165, 0.1);
    transform: translateY(-3px);
}

#shareModal .share-platform span {
    margin-top: 8px;
    font-size: 0.8em;
    color: #333;
}

#shareModal .share-icon {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 1.5em;
    transition: transform 0.3s;
}

#shareModal .share-platform:hover .share-icon {
    transform: scale(1.1);
}
/* Conteneur principal centré */
.form_main {
    width: 100%;
    max-width: 500px; /* ou la largeur maximale que vous souhaitez */
    margin: 0 auto;
    padding: 20px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    min-height: 100vh;
    box-sizing: border-box;
}

/* Pour le corps de la page */
body {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    margin: 0;
    padding: 0;
    background: #fff;
    font-family: Arial, sans-serif;
}

/* Ajustements pour les sections */
#login-section, 
#register-section, 
#account-section {
    width: 100%;
    margin: 0 auto;
}

/* Pour le contenu dans la section compte */
.main-container {
    width: 100%;
    max-width: 500px; /* Doit correspondre à form_main */
    margin: 0 auto;
}
/* Styles pour le conteneur des actions sociales */
.social-actions-container {
    display: flex;
    justify-content: center;
    margin: 25px 0;
    padding: 0 20px;
}

.social-actions {
    display: flex;
    justify-content: space-around;
    width: 100%;
    max-width: 300px;
    background: rgba(255, 255, 255, 0.9);
    border-radius: 50px;
    padding: 10px 15px;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    border: 1px solid rgba(20, 54, 165, 0.2);
}
/* Style pour le bouton WhatsApp flottant avec effet lumineux */
.whatsapp-float {
    position: fixed;
    bottom: 20px;
    right: 20px;
    width: 60px;
    height: 60px;
    background-color: #25D366;
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 30px;
    box-shadow: 0 0 0 0 rgba(37, 211, 102, 0.7);
    z-index: 100;
    text-decoration: none;
    cursor: pointer;
    
    /* Animation d'entrée */
    transform: translateY(30px) scale(0.8);
    opacity: 0;
    animation: floatIn 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.4) forwards;
    
    /* Effet de halo */
    &::after {
        content: '';
        position: absolute;
        width: 100%;
        height: 100%;
        border-radius: 50%;
        background: #25D366;
        z-index: -1;
        opacity: 0;
        transition: all 0.6s;
    }
}

.whatsapp-float:hover {
    animation: pulse 1s infinite, glow 2s infinite alternate;
    transform: scale(1.1);
    
    &::after {
        transform: scale(1.6);
        opacity: 0.2;
        box-shadow: 0 0 20px 10px #25D366;
    }
}

/* Animations */
@keyframes floatIn {
    to {
        transform: translateY(0) scale(1);
        opacity: 1;
        box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    }
}

@keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.1); }
    100% { transform: scale(1); }
}

@keyframes glow {
    from {
        box-shadow: 0 0 5px -5px #25D366;
    }
    to {
        box-shadow: 0 0 20px 5px rgba(37, 211, 102, 0.7);
    }
}

/* Effet spécial au clic */
.whatsapp-float:active {
    transform: scale(0.95);
    &::after {
        transform: scale(2);
        opacity: 0;
    }
}
    </style>
</head>
<body>

<!-- Ajoutez ceci dans le <body>, juste après l'ouverture de la balise body -->
<div class="datetime-container">
    <div class="current-time" id="currentTime"></div>

</div>

    <div class="form_main">
        <!-- Section de connexion -->
        <div id="login-section">
            <img src="https://www2.0zz0.com/2025/03/13/18/485189406.png" alt="Waripay Logo" class="logo">
            <h2 class="heading">Connexion</h2>
            <form id="login-form">
                <div class="inputContainer" id="phone-container">
                    <i class="inputIcon fas fa-phone"></i>
                    <input type="number" id="phone" class="inputField" placeholder="Téléphone" required>
                </div>
                <div class="inputContainer">
                    <i class="inputIcon fas fa-lock"></i>
                    <input type="password" id="password" class="inputField" placeholder="Code Secret" required>
                </div>
                <center><button type="submit" class="btn-primary">Se connecter</button>
            </form>
            <p id="login-message"></p>
         <center>  <p><strong>OU</strong> <br><a href="#" class="link-as-button" onclick="showSignupForm()">Créer un Compte WariPay</a></p>

        </div>

        <!-- Section d'inscription avec validation -->
        <div id="register-section" class="hidden">
            <img src="https://www2.0zz0.com/2025/03/13/18/485189406.png" alt="Waripay Logo" class="logo">
            <h2 class="heading">Inscription</h2>
            <form id="register-form">
                <div class="inputContainer">
                    <i class="inputIcon fas fa-user"></i>
                    <input type="text" id="register-name" class="inputField" placeholder="Nom et prénom(s)" required>
                </div>
                <div class="inputContainer">
                    <i class="inputIcon fas fa-phone"></i>
                    <input type="tel" id="register-phone" class="inputField" 
                           placeholder="Téléphone" 
                           maxlength="8"
                           pattern="[0-9]{8}"
                           title="8 chiffres maximum" required>
                    <small id="phone-error" style="color: red; display: none;">Le numéro doit avoir 8 chiffres</small>
                </div>
               
                <div class="inputContainer">
                    <i class="inputIcon fas fa-lock"></i>
                    <input type="password" id="register-password" class="inputField" 
                           placeholder="Code Secret" 
                           maxlength="4"
                           pattern="[0-9]{4}"
                           title="4 chiffres maximum" required>
                    <small id="password-error" style="color: red; display: none;">Le code doit avoir 4 chiffres</small>
                </div>
                <button type="submit" class="btn-primary">Créer le Compte</button>
            </form>
            <p id="register-message"></p>
            <center></center><p><strong>OU</strong> <a href="#" class="link-as-button" onclick="showLoginForm()">Connectez-vous </a></p>
        </div>
<!-- Ajoutez ceci dans le <body>, juste après l'ouverture de la balise body -->
<div class="hamburger-menu">
    <i class="fas fa-bars hamburger-icon"></i>
</div>

<div class="sidebar-menu">
    <div class="close-menu">
        <i class="fas fa-times"></i>
    </div>
    <div class="menu-header">
        <h3>Menu Utilisateur</h3>
    </div>
    <div class="menu-items">
        <div class="menu-item" onclick="openMenuModal('profile')">
            <i class="fas fa-user"></i>
            <span>Profil</span>
        </div>
        <div class="menu-item" onclick="openMenuModal('account')">
            <i class="fas fa-wallet"></i>
            <span>Compte</span>
        </div>
        <div class="menu-item" onclick="openMenuModal('security')">
            <i class="fas fa-shield-alt"></i>
            <span>Sécurité</span>
        </div>
        <div class="menu-item" onclick="openMenuModal('settings')">
            <i class="fas fa-cog"></i>
            <span>Paramètres</span>
        </div>
        <div class="menu-item" onclick="openMenuModal('help')">
            <i class="fas fa-question-circle"></i>
            <span>Aide</span>
        </div>
        <div class="menu-item" onclick="openMenuModal('fraude')">
    <i class="fas fa-exclamation-triangle"></i>
    <span>Signaler une fraude</span>
</div>
<div class="menu-item" onclick="openMenuModal('avis')">
    <i class="fas fa-comment-alt"></i>
    <span>Donner votre avis</span>
</div>
        <div class="menu-header">
    <div class="weather-info">
        <i class="weather-icon fas fa-cloud-sun"></i>
        <div>
            <div class="current-temperature" id="currentTemperature">--°C</div>
            <div class="current-location" id="currentLocation">Localisation</div>
        </div>
    </div>
    <div class="current-date" id="currentDate"></div>
</div>
<!-- Dans votre sidebar-menu, ajoutez ces éléments avec les autres menu-items -->
<div class="menu-items">
    <!-- ... autres éléments du menu ... -->
    
    <div class="menu-item" onclick="shareApp()">
        <i class="fas fa-share-alt"></i>
        <span>Partager l'application</span>
    </div>
    
    <div class="menu-item" onclick="rateApp()">
        <i class="fas fa-star"></i>
        <span>Évaluer l'application</span>
    </div>
    
    <!-- ... autres éléments du menu ... -->
</div>
        <div class="menu-item" onclick="logoutUser()">
            <i class="fas fa-sign-out-alt"></i>
            <span>Déconnexion</span>
        </div>
    </div>
</div>

<div class="menu-overlay"></div>

<!-- Modals pour le menu -->
<div id="profileModal" class="menu-modal">
    <div class="menu-modal-content">
        <div class="menu-modal-header">
            <div class="menu-modal-title">Profil Utilisateur</div>
            <div class="menu-modal-close" onclick="closeMenuModal('profileModal')">×</div>
        </div>
        <div class="menu-modal-body" id="profileModalContent">
            <!-- Contenu dynamique sera inséré ici -->
        </div>
    </div>
</div>
<!-- Modal de Partage Professionnel -->
<div id="shareModal" class="menu-modal">
    <div class="menu-modal-content">
        <div class="menu-modal-header">
            <div class="menu-modal-title">Partager WariPay</div>
            <div class="menu-modal-close" onclick="closeMenuModal('shareModal')">×</div>
        </div>
        <div class="menu-modal-body">
            <div style="text-align: center; margin-bottom: 20px;">
                <div style="font-size: 48px; color: #1436a5; margin-bottom: 10px;">
                    <i class="fas fa-share-alt"></i>
                </div>
                <p style="color: #555; margin-bottom: 25px;">
                    Partagez WariPay avec vos proches et bénéficiez ensemble d'une solution de paiement sécurisée.
                </p>
            </div>
            
            <div class="share-platforms">
                <button class="share-platform" onclick="shareVia('whatsapp')">
                    <div class="share-icon" style="background: #25D366;">
                        <i class="fab fa-whatsapp"></i>
                    </div>
                    <span>WhatsApp</span>
                </button>
                
                <button class="share-platform" onclick="shareVia('facebook')">
                    <div class="share-icon" style="background: #3b5998;">
                        <i class="fab fa-facebook-f"></i>
                    </div>
                    <span>Facebook</span>
                </button>
                
                <button class="share-platform" onclick="shareVia('twitter')">
                    <div class="share-icon" style="background: #1DA1F2;">
                        <i class="fab fa-twitter"></i>
                    </div>
                    <span>Twitter</span>
                </button>
                
                <button class="share-platform" onclick="shareVia('telegram')">
                    <div class="share-icon" style="background: #0088cc;">
                        <i class="fab fa-telegram-plane"></i>
                    </div>
                    <span>Telegram</span>
                </button>
                
                <button class="share-platform" onclick="shareVia('email')">
                    <div class="share-icon" style="background: #dd4b39;">
                        <i class="fas fa-envelope"></i>
                    </div>
                    <span>Email</span>
                </button>
                
                <button class="share-platform" onclick="copyShareLink()">
                    <div class="share-icon" style="background: #1436a5;">
                        <i class="fas fa-link"></i>
                    </div>
                    <span>Copier le lien</span>
                </button>
            </div>
            
            <div id="copySuccess" style="text-align: center; margin-top: 15px; color: #28a745; display: none;">
                <i class="fas fa-check-circle"></i> Lien copié dans le presse-papiers
            </div>
        </div>
    </div>
</div>
<div id="accountModal" class="menu-modal">
    <div class="menu-modal-content">
        <div class="menu-modal-header">
            <div class="menu-modal-title">Informations du Compte</div>
            <div class="menu-modal-close" onclick="closeMenuModal('accountModal')">×</div>
        </div>
        <div class="menu-modal-body" id="accountModalContent">
            <!-- Contenu dynamique sera inséré ici -->
        </div>
    </div>
</div>

<div id="securityModal" class="menu-modal">
    <div class="menu-modal-content">
        <div class="menu-modal-header">
            <div class="menu-modal-title">Sécurité</div>
            <div class="menu-modal-close" onclick="closeMenuModal('securityModal')">×</div>
        </div>
        <div class="menu-modal-body" id="securityModalContent">
            <!-- Contenu dynamique sera inséré ici -->
        </div>
    </div>
</div>

<div id="settingsModal" class="menu-modal">
    <div class="menu-modal-content">
        <div class="menu-modal-header">
            <div class="menu-modal-title">Paramètres</div>
            <div class="menu-modal-close" onclick="closeMenuModal('settingsModal')">×</div>
        </div>
        <div class="menu-modal-body" id="settingsModalContent">
            <!-- Contenu dynamique sera inséré ici -->
        </div>
    </div>
</div>

<div id="helpModal" class="menu-modal">
    <div class="menu-modal-content">
        <div class="menu-modal-header">
            <div class="menu-modal-title">Aide & Support</div>
            <div class="menu-modal-close" onclick="closeMenuModal('helpModal')">×</div>
        </div>
        <div class="menu-modal-body" id="helpModalContent">
            <!-- Contenu dynamique sera inséré ici -->
        </div>
    </div>
</div>

<!-- Modal pour le changement de code secret -->
<div id="changePasswordModal" class="menu-modal">
    <div class="menu-modal-content">
        <div class="menu-modal-header">
            <div class="menu-modal-title">Changer le code secret</div>
            <div class="menu-modal-close" onclick="closeMenuModal('changePasswordModal')">×</div>
        </div>
        <div class="menu-modal-body">
            <div class="inputContainer">
                <i class="inputIcon fas fa-user"></i>
                <input type="text" id="accountNumber" class="inputField" placeholder="Numéro de compte Waripay" required>
            </div>
            <div class="inputContainer">
                <i class="inputIcon fas fa-lock"></i>
                <input type="password" id="oldPassword" class="inputField" placeholder="Ancien code secret" required maxlength="4">
            </div>
            <div class="inputContainer">
                <i class="inputIcon fas fa-lock"></i>
                <input type="password" id="newPassword" class="inputField" placeholder="Nouveau code secret" required maxlength="4">
            </div>
            <div class="inputContainer">
                <i class="inputIcon fas fa-lock"></i>
                <input type="password" id="confirmNewPassword" class="inputField" placeholder="Confirmer le nouveau code" required maxlength="4">
            </div>
            <button class="btn-primary" style="width: 100%;" onclick="submitPasswordChange()">Valider le changement</button>
        </div>
    </div>
</div>
                <!-- Section de Compte -->
        <div id="account-section" class="hidden">
            <!-- Nouvelle version simplifiée des infos utilisateur -->
            <div class="user-info-simple">
                <h3 class="heading1">WARIPAY</h3>
                <div class="info-columns">
                    <div class="left-column">
                        <p><strong><span id="account-name"></span></strong> 
                         </p>
                         <p><strong><span id="account-phone"></span></strong>  <span id="verification-check" class="verification-check"><i class="fas fa-check-circle"></i></span></p>
                    </div>
                    <div class="right-column">
                        <p class="balance">
                            <strong>Solde:</strong> <span id="balanceText">******* F</span>
                            <i class="fas fa-eye" id="toggleBalanceIcon" onclick="toggleBalanceVisibility()"></i>
                        </p>
                    </div>
                </div>
            </div>

            <!-- Nouveau carrousel -->
            <div class="carousel-container">
                <div class="carousel-slides">
                    <div class="carousel-slide">
                        <img src="https://i.postimg.cc/bvf6364t/Whats-App-Image-2025-02-10-12-52-12-b2aebc79.jpg" alt="Promotion 1">
                       
                    </div>
                    <div class="carousel-slide">
                        <img src="https://i.postimg.cc/fTgpjfwc/PSX-20250320-023227.jpg" alt="Promotion 2">
                       
                    </div>

                    <div class="carousel-slide">
                        <img src="https://i.postimg.cc/BQvRKVGZ/PSX-20250320-023157.jpg" alt="Promotion 3">
                       
                    </div>
                                        <div class="carousel-slide">
                        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR_8UYkVPQWOumltS4nW4JnPFs7_YsN1mJI1w&s" alt="Promotion 3">
                       
                    </div>
                                        <div class="carousel-slide">
                        <img src="https://img.freepik.com/photos-gratuite/transfert-argent-ligne-telephones-pieces-3d_107791-16581.jpg" alt="Promotion 3">
                       
                    </div>
                                        <div class="carousel-slide">
                        <img src="https://i.postimg.cc/DwtjswF7/site-42.jpg" alt="Promotion 3">
                       
                    </div>
                </div>
               
            </div>
            <div id="operation-buttons" class="operation-buttons">
                <button class="menubtn-primary track-click" onclick="window.location.href='go:unitecredi'"><i class="fas fa-mobile-alt"></i> Unité</button>
                <button class="menubtn-primary track-click" onclick="window.location.href='go:depot'"><i class="fas fa-plus-circle"></i> Dépôt
                </button>
                <button class="menubtn-primary" onclick="openOperationModal('transfert')"><i class="fas fa-exchange-alt"></i> Transfert</button>
                <button class="menubtn-primary track-click" onclick="window.location.href='go:transfert'"><i class="fas fa-mobile-alt"></i>Inter-Mobil</button>

 <button class="menubtn-primary track-click" onclick="window.location.href='go:forfaitpro'"><i class="fas fa-sim-card"></i> Internet</button>
                <button class="menubtn-primary track-click" onclick="window.location.href='go:retrait'"><i class="fas fa-minus-circle"></i> Retrait</button>

<button class="menubtn-primary track-click" onclick="window.location.href='go:freetv'"><i class="fas fa-tv"></i> TV</button>
                <button class="menubtn-primary track-click" onclick="window.location.href='go:encours'"><i class="fas fa-globe-americas"></i> Transfert Inter</button>
                
                <button class="menubtn-primary track-click" onclick="window.location.href='go:encours '">
                    <i class="fas fa-file-invoice"></i> Facture
                </button>
                         <button class="menubtn-primary track-click" onclick="window.location.href='go:scanner'"><i class="fas fa-camera"></i> Scanner </button>

                <button class="menubtn-primary track-click" onclick="window.location.href='go:qrcode'"><i class="fas fa-qrcode"></i> QR code </button>

                
                <button class="menubtn-primary track-click" onclick="window.location.href='go:encours'"><i class="fas fa-sim-card"></i> Pari SP</button>
            </div>
            <center><button class="btn-primary" onclick="logoutUser()">Déconnexion</button>
                <center> <a href="#" onclick="showPolicyModal()" style="color: blue; text-decoration: green;">
                <i class=""></i>  politique
            </a>
            
            <!-- Tableau d'historique des transactions -->
            <table class="history-table">
                <thead>
                    <tr>
                        <th>Date</th>
                        <th>Type</th>
                        <th>Montant</th>
                    </tr>
                </thead>
                <tbody id="transaction-history">
                    <!-- Les transactions seront ajoutées ici dynamiquement -->
                </tbody>
            </table>
        </div>
    </div>

    <!-- Modaux -->
    <div id="messageModal" class="modal">
        <div class="modal-content">
            <span class="close">×</span>
            <div class="modal-icon success">✔</div>
            <p id="modal-message"></p>
            <button class="modal-button" onclick="closeModal('messageModal')">Fermer</button>
        </div>
    </div>

    <div id="historyModal" class="modal">
        <div class="modal-content">
            <span class="close">×</span>
            <h2>Historique des Transactions</h2>
            <ul id="modal-transaction-history"></ul>
            <button class="modal-button" onclick="closeModal('historyModal')">Fermer</button>
        </div>
    </div>

    <!-- Modal pour les opérations -->
    <div id="operationModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('operationModal')">×</span>
            <h2 id="operationModalTitle"></h2>
            <form id="operationForm">
                <div class="inputContainer" id="recipientPhoneContainer">
                    <i class="inputIcon fas fa-phone"></i>
                    <input type="tel" id="recipientPhone" class="inputField" placeholder="Numéro Waripay du destinataire ">
                </div>
                <div class="inputContainer">
                    <i class="inputIcon fas fa-money-bill"></i>
                    <input type="number" id="amount" class="inputField" placeholder="Montant" required>
                </div>
                <button type="submit" class="btn-primary">Confirmer</button>
            </form>
        </div>
    </div>

    <!-- Modal de confirmation -->
    <div id="confirmationModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('confirmationModal')">×</span>
            <h2>Confirmation</h2>
            <p id="confirmationMessage"></p>
            <div class="inputContainer">
                <i class="inputIcon fas fa-lock"></i>
                <input type="password" id="confirmationPin" class="inputField" placeholder="Code Secret" required>
            </div>
            <button type="button" class="btn-primary" onclick="confirmOperation()">Valider</button>
        </div>
    </div>


<!-- Modal pour la politique de confidentialité - Version améliorée -->
<div id="policyModal" class="modal" style="display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.7); overflow: auto;">
    <div class="modal-content" style="background-color: #fefefe; margin: 5% auto; padding: 25px; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.3); width: 80%; max-width: 700px; max-height: 80vh; display: flex; flex-direction: column;">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
            <h2 style="color: #2c3e50; margin: 0; font-size: 24px;">POLITIQUE </h2>

        </div>
        
        <div style="overflow-y: auto; flex-grow: 1; margin: 15px 0; padding: 15px; border: 1px solid #e0e0e0; border-radius: 8px; background-color: #f9f9f9;">
            <p style="color: #7f8c8d; margin-bottom: 20px;"><strong>Dernière mise à jour : 25/03/2025</strong></p>
        
            <section style="margin-bottom: 20px;">
                <h3 style="color: #3498db; font-size: 18px; margin-bottom: 10px;">1. Collecte des informations</h3>
                <p style="color: #34495e; line-height: 1.6;">Nous collectons certaines informations personnelles pour fournir nos services financiers :</p>
                <ul style="color: #34495e; padding-left: 20px; line-height: 1.6;">
                    <li>Nom, prénom et numéro de téléphone</li>
                    <li>Historique des transactions</li>
                    <li>Localisation (si autorisée par l'utilisateur)</li>
                </ul>
            </section>
            
            <section style="margin-bottom: 20px;">
                <h3 style="color: #3498db; font-size: 18px; margin-bottom: 10px;">2. Utilisation des informations</h3>
                <p style="color: #34495e; line-height: 1.6;">Vos données sont utilisées pour :</p>
                <ul style="color: #34495e; padding-left: 20px; line-height: 1.6;">
                    <li>Garantir la sécurité des transactions</li>
                    <li>Faciliter le support client</li>
                    <li>Envoyer des notifications transactionnelles</li>
                    <li>Se conformer aux réglementations financières locales</li>
                </ul>
            </section>
            
            <section style="margin-bottom: 20px;">
                <h3 style="color: #3498db; font-size: 18px; margin-bottom: 10px;">3. Sécurité et confidentialité des transactions</h3>
                <p style="color: #34495e; line-height: 1.6;">Toutes les transactions sont cryptées et sécurisées. Les fonds déposés ne peuvent être retirés qu'après 45 jours.</p>
            </section>
            
            <section style="margin-bottom: 20px;">
                <h3 style="color: #3498db; font-size: 18px; margin-bottom: 10px;">4. Protection des informations</h3>
                <p style="color: #34495e; line-height: 1.6;">Nous utilisons :</p>
                <ul style="color: #34495e; padding-left: 20px; line-height: 1.6;">
                    <li>Authentification à plusieurs facteurs</li>
                    <li>Chiffrement des données</li>
                    <li>Surveillance continue contre la fraude</li>
                </ul>
            </section>
            
            <section style="margin-bottom: 20px;">
                <h3 style="color: #3498db; font-size: 18px; margin-bottom: 10px;">5. Conservation des données et droits des utilisateurs</h3>
                <p style="color: #34495e; line-height: 1.6;">Vous pouvez demander l'accès, la modification ou la suppression de vos données en contactant notre support.</p>
            </section>
            
            <section>
                <h3 style="color: #3498db; font-size: 18px; margin-bottom: 10px;">6. Consentement et modifications</h3>
                <p style="color: #34495e; line-height: 1.6;">En utilisant WariPay, vous acceptez cette politique. Toute mise à jour sera communiquée via notre application.</p>
            </section>
        </div>
        
        <div style="margin: 15px 0; display: flex; align-items: center;">
            <input type="checkbox" id="policyCheckbox" onchange="togglePolicyContinueButton()" style="margin-right: 10px; width: 18px; height: 18px;">
            <label for="policyCheckbox" style="color: #34495e; font-size: 15px; cursor: pointer;">J'ai lu et j'accepte la politique de confidentialité</label>
        </div>
        
        <div style="display: flex; justify-content: flex-end;">
            <button id="continueButton" class="btn-primary" disabled onclick="acceptPolicy()" style="padding: 12px 25px; background-color: #3498db; color: white; border: none; border-radius: 5px; font-size: 16px; cursor: pointer; transition: background-color 0.3s;">Continuer</button>
        </div>
    </div>
</div>

<!-- Modal pour la notification de mise à jour du solde -->
<div id="balanceUpdateModal" class="modal">
    <div class="modal-content">
        <div class="modal-icon"><i class="fas fa-info-circle"></i></div>
        <div class="modal-message">
            Si vous venez d'effectuer une opération, votre solde pourrait ne pas être à jour.
            Vous devez actualiser votre application pour voir votre nouveau solde !
        </div>
        <button class="modal-button" onclick="closeModal('balanceUpdateModal')">J'ai compris</button>
    </div>
</div>
<!-- Modal pour signaler une fraude -->
<div id="fraudeModal" class="menu-modal">
    <div class="menu-modal-content">
        <div class="menu-modal-header">
            <div class="menu-modal-title">Signaler une fraude</div>
            <div class="menu-modal-close" onclick="closeMenuModal('fraudeModal')">×</div>
        </div>
        <div class="menu-modal-body">
            <form id="fraudeForm">
                <div class="inputContainer">
                    <i class="inputIcon fas fa-user"></i>
                    <input type="text" id="fraudeAccount" class="inputField" placeholder="Numéro de compte Waripay" required>
                </div>
                
                <div class="inputContainer">
                    <i class="inputIcon fas fa-list"></i>
                    <select id="fraudeType" class="inputField" style="padding-left: 35px;" required>
                        <option value="" disabled selected>Type de fraude</option>
                        <option value="arnaque">Arnaque</option>
                        <option value="usurpation">Usurpation d'identité</option>
                        <option value="transaction">Transaction non autorisée</option>
                        <option value="autre">Autre</option>
                    </select>
                </div>
                
                <div class="inputContainer">
                    <i class="inputIcon fas fa-comment"></i>
                    <textarea id="fraudeDescription" class="inputField" placeholder="Description de la fraude (minimum 85 mots)" rows="5" required></textarea>
                </div>
                
                <div class="inputContainer">
                    <i class="inputIcon fas fa-image"></i>
                    <input type="file" id="fraudeProof" class="inputField" accept="image/*" required>
                    <small style="display: block; margin-top: 5px; color: #666;">Joindre une preuve (capture d'écran, photo, etc.)</small>
                </div>
                
                <button type="submit" class="btn-primary" style="width: 100%;">Envoyer le signalement</button>
            </form>
        </div>
    </div>
</div>

<!-- Modal pour donner son avis -->
<div id="avisModal" class="menu-modal">
    <div class="menu-modal-content">
        <div class="menu-modal-header">
            <div class="menu-modal-title">Donner votre avis</div>
            <div class="menu-modal-close" onclick="closeMenuModal('avisModal')">×</div>
        </div>
        <div class="menu-modal-body">
            <form id="avisForm">
                <div class="inputContainer">
                    <i class="inputIcon fas fa-user"></i>
                    <input type="text" id="avisName" class="inputField" placeholder="Nom et prénom" required>
                </div>
                
                <div class="inputContainer">
                    <i class="inputIcon fas fa-comment"></i>
                    <textarea id="avisText" class="inputField" placeholder="Votre avis (minimum 50 mots)" rows="7" required></textarea>
                </div>
                
                <button type="submit" class="btn-primary" style="width: 100%;">Envoyer votre avis</button>
            </form>
        </div>
    </div>
</div>
<!-- Gardez ce modal et supprimez l'autre -->
<div id="shareModal" class="menu-modal">
    <div class="menu-modal-content">
        <div class="menu-modal-header">
            <div class="menu-modal-title">Partager WariPay</div>
            <div class="menu-modal-close" onclick="closeMenuModal('shareModal')">×</div>
        </div>
        <div class="menu-modal-body">
            <div style="text-align: center; margin-bottom: 20px;">
                <div style="font-size: 48px; color: #1436a5; margin-bottom: 10px;">
                    <i class="fas fa-share-alt"></i>
                </div>
                <p style="color: #555; margin-bottom: 25px;">
                    Partagez WariPay avec vos proches et bénéficiez ensemble d'une solution de paiement sécurisée.
                </p>
            </div>
            
            <div class="share-platforms">
                <!-- Boutons de partage... -->
            </div>
            
            <div id="copySuccess" style="text-align: center; margin-top: 15px; color: #28a745; display: none;">
                <i class="fas fa-check-circle"></i> Lien copié dans le presse-papiers
            </div>
        </div>
    </div>
</div>
<a href="https://wa.me/22605585868" class="whatsapp-float hidden" id="whatsappButton" target="_blank">
    <i class="fab fa-whatsapp"></i>
</a>
<!-- Nouveau loader professionnel -->
<div id="loaderModal" class="loader-container">
    <div class="wari-loader">
        <div class="circle"></div>
        <div class="circle"></div>
        <div class="circle"></div>
        <img src="https://www2.0zz0.com/2025/03/13/18/485189406.png" alt="WariPay" class="loader-logo">
    </div>
    <div class="loader-text" id="loaderText">Un instant...</div>
    <div class="progress-bar">
        <div class="progress"></div>
    </div>
</div>

    <script>
        // Validation des champs d'inscription
        document.getElementById('register-phone').addEventListener('input', function() {
            const phone = this.value;
            const errorElement = document.getElementById('phone-error');
            
            if (phone.length > 8 || !/^\d+$/.test(phone)) {
                errorElement.style.display = 'block';
                this.setCustomValidity('Le numéro doit contenir exactement 8 chiffres');
            } else {
                errorElement.style.display = 'none';
                this.setCustomValidity('');
            }
        });

        document.getElementById('register-password').addEventListener('input', function() {
            const password = this.value;
            const errorElement = document.getElementById('password-error');
            
            if (password.length > 4 || !/^\d+$/.test(password)) {
                errorElement.style.display = 'block';
                this.setCustomValidity('Le code secret doit contenir exactement 4 chiffres');
            } else {
                errorElement.style.display = 'none';
                this.setCustomValidity('');
            }
        });

        // Gestion de l'inscription avec validation
        document.getElementById('register-form').addEventListener('submit', function(event) {
            event.preventDefault();
            
            const phone = document.getElementById('register-phone').value;
            const name = document.getElementById('register-name').value;
            const password = document.getElementById('register-password').value;
            
            // Validation supplémentaire avant envoi
            if (phone.length !== 8 || !/^\d+$/.test(phone)) {
                showModalMessage('Le numéro de téléphone doit contenir exactement 8 chiffres', 'error');
                return;
            }
            
            if (password.length !== 4 || !/^\d+$/.test(password)) {
                showModalMessage('Le code secret doit contenir exactement 4 chiffres', 'error');
                return;
            }
            
            const registerData = {
                action: 'register',
                phone: phone,
                name: name,
                password: password
            };

            showLoader();
            fetch('https://script.google.com/macros/s/AKfycbx1XNzVxhVUa81Sdch5SFBS0-WC6UmZRJSGjDXNt6w876pIv5P8W1DLBZdCVt3t_3nh/exec', {
                method: 'POST',
                body: JSON.stringify(registerData)
            })
            .then(response => response.json())
            .then(data => {
                hideLoader();
                if (data.status === 'success') {
                    showModalMessage('Inscription réussie! Vous pouvez maintenant vous connecter.', 'success');
                    document.getElementById('register-section').classList.add('hidden');
                    document.getElementById('login-section').classList.remove('hidden');
                } else {
                    showModalMessage(data.message, 'error');
                }
            });
        });

        // Carrousel automatique
        document.addEventListener("DOMContentLoaded", function() {
            const carouselContainer = document.querySelector('.carousel-container');
            const carouselSlides = document.querySelector('.carousel-slides');
            const slides = document.querySelectorAll('.carousel-slide');
            const indicators = document.querySelectorAll('.carousel-indicator');
            let currentIndex = 0;
            let slideInterval;

            function updateCarousel() {
                // Déplacer le carrousel
                carouselSlides.style.transform = `translateX(-${currentIndex * 100}%)`;
                
                // Mettre à jour les indicateurs
                indicators.forEach((indicator, index) => {
                    indicator.classList.toggle('active', index === currentIndex);
                });
            }

            function nextSlide() {
                currentIndex = (currentIndex + 1) % slides.length;
                updateCarousel();
            }

            function startCarousel() {
                slideInterval = setInterval(nextSlide, 3000); // Change toutes les 3 secondes
            }

            // Démarrer le carrousel
            startCarousel();

            // Arrêter le carrousel quand la souris est dessus
            carouselContainer.addEventListener('mouseenter', () => {
                clearInterval(slideInterval);
            });

            // Redémarrer le carrousel quand la souris quitte
            carouselContainer.addEventListener('mouseleave', startCarousel);

            // Navigation via les indicateurs
            indicators.forEach(indicator => {
                indicator.addEventListener('click', function() {
                    clearInterval(slideInterval);
                    currentIndex = parseInt(this.getAttribute('data-index'));
                    updateCarousel();
                    startCarousel();
                });
            });
        });

        // Simule un chargement et masque le loader après 3 secondes
        setTimeout(() => {
            document.getElementById("loaderModal").style.display = "none";
        }, 3000);

        let currentOperation = null;
        let currentUser = null;

        // Fonction pour ouvrir le modal d'opération
        function openOperationModal(operationType) {
            currentOperation = operationType;
            document.getElementById('operationModalTitle').textContent = `Opération : ${operationType}`;
            document.getElementById('recipientPhoneContainer').style.display =
                (operationType === 'transfert' || operationType === 'transfert_national' || operationType === 'transfert_international') ? 'block' : 'none';
            document.getElementById('operationModal').style.display = 'block';
        }

        // Fonction pour exécuter l'opération
        function executeOperation() {
            const amount = document.getElementById('amount').value;
            const recipientPhone = document.getElementById('recipientPhone').value;

            const operationData = {
                action: 'operation',
                phone: currentUser.phone,
                amount: parseFloat(amount),
                operationType: currentOperation,
                recipientPhone: recipientPhone || null
            };

            showLoader();
            fetch('https://script.google.com/macros/s/AKfycbx1XNzVxhVUa81Sdch5SFBS0-WC6UmZRJSGjDXNt6w876pIv5P8W1DLBZdCVt3t_3nh/exec', {
                method: 'POST',
                body: JSON.stringify(operationData)
            })
            .then(response => response.json())
            .then(data => {
                hideLoader();
                if (data.status === 'success') {
                    document.getElementById('balanceText').textContent = data.user.balance;
                    loadHistory(currentUser.phone);
                    showModalMessage('Opération réussie!', '😎');
                    closeModal('operationModal');
                } else {
                    showModalMessage(data.message, '😥');
                }
            });
        }

        // Fonction pour fermer un modal
        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        // Fonction pour afficher le loader
        function showLoader() {
            document.getElementById('loaderModal').style.display = 'flex';
        }

        // Fonction pour masquer le loader
        function hideLoader() {
            document.getElementById('loaderModal').style.display = 'none';
        }

        // Fonction pour afficher un message modal
        function showModalMessage(message, icon = '🔔') {
            document.getElementById('modal-message').innerHTML = `<div class="icon">${icon}</div>${message}`;
            document.getElementById('messageModal').style.display = 'block';
        }

        // Gestion du formulaire d'opération
        document.getElementById('operationForm').addEventListener('submit', function(event) {
            event.preventDefault();
            executeOperation();
        });

        // Gestion de la connexion
        document.getElementById('login-form').addEventListener('submit', function(event) {
            event.preventDefault();
            const phone = document.getElementById('phone').value;
            const password = document.getElementById('password').value;

            showLoader();
            fetch(`https://script.google.com/macros/s/AKfycbx1XNzVxhVUa81Sdch5SFBS0-WC6UmZRJSGjDXNt6w876pIv5P8W1DLBZdCVt3t_3nh/exec?action=login&phone=${phone}&password=${password}`)
            .then(response => response.json())
            .then(data => {
                hideLoader();
                if (data.status === 'success') {
                    localStorage.setItem('userPhone', phone);
                    currentUser = data.user;
                    document.getElementById('login-section').classList.add('hidden');
                    document.getElementById('account-section').classList.remove('hidden');
                    document.getElementById('account-name').textContent = data.user.name;
                    document.getElementById('account-phone').textContent = data.user.phone;
                    document.getElementById('balanceText').textContent = data.user.balance;

                    // Afficher la coche bleue si le nom est présent
                    const accountName = document.getElementById("account-name");
                    const verificationCheck = document.getElementById("verification-check");
                    if (accountName && accountName.textContent.trim() !== "") {
                        verificationCheck.classList.add("visible");
                    }

                    loadHistory(phone);
                } else {
                    showModalMessage(data.message);
                }
            });
        });

        // Gestion de l'inscription
        document.getElementById('register-form').addEventListener('submit', function(event) {
            event.preventDefault();
            const phone = document.getElementById('register-phone').value;
            const name = document.getElementById('register-name').value;
            const password = document.getElementById('register-password').value;
            const registerData = {
                action: 'register',
                phone: phone,
                name: name,
                password: password
            };

            showLoader();
            fetch('https://script.google.com/macros/s/AKfycbx1XNzVxhVUa81Sdch5SFBS0-WC6UmZRJSGjDXNt6w876pIv5P8W1DLBZdCVt3t_3nh/exec', {
                method: 'POST',
                body: JSON.stringify(registerData)
            })
            .then(response => response.json())
            .then(data => {
                hideLoader();
                if (data.status === 'success') {
                    showModalMessage('Inscription réussie! Vous pouvez maintenant vous connecter.', '😊');
                    document.getElementById('register-section').classList.add('hidden');
                    document.getElementById('login-section').classList.remove('hidden');
                } else {
                    showModalMessage(data.message, '😥');
                }
            });
        });

        // Charger l'historique des transactions
        function loadHistory(phone) {
            fetch(`https://script.google.com/macros/s/AKfycbx1XNzVxhVUa81Sdch5SFBS0-WC6UmZRJSGjDXNt6w876pIv5P8W1DLBZdCVt3t_3nh/exec?action=getHistory&phone=${phone}`)
            .then(response => response.json())
            .then(data => {
                if (data.status === 'success') {
                    const historyTable = document.getElementById('transaction-history');
                    historyTable.innerHTML = '';

                    // Limiter l'historique aux 10 dernières opérations
                    const last10Transactions = data.history.slice(-10);

                    last10Transactions.forEach(transaction => {
                        const row = document.createElement('tr');
                        row.innerHTML = `<td>${transaction[0]}</td><td>${transaction[2]}</td><td>${transaction[3]}</td>`;
                        historyTable.appendChild(row);
                    });
                }
            });
        }

        // Fonction pour réinitialiser l'historique
        function resetHistory() {
            const historyTable = document.getElementById('transaction-history');
            historyTable.innerHTML = ''; // Vide l'historique
            console.log("Historique réinitialisé à minuit.");
        }

        // Basculer la visibilité du solde
        function toggleBalanceVisibility() {
            const balanceText = document.getElementById('balanceText');
            const toggleBalanceIcon = document.getElementById('toggleBalanceIcon');

            if (balanceText.textContent === '******* F') {
                balanceText.textContent = `${currentUser.balance.toFixed(2)} CFA`;
                toggleBalanceIcon.classList.remove('fa-eye');
                toggleBalanceIcon.classList.add('fa-eye-slash');
            } else {
                balanceText.textContent = '******* F';
                toggleBalanceIcon.classList.remove('fa-eye-slash');
                toggleBalanceIcon.classList.add('fa-eye');
            }
        }

        // Fonction pour planifier la réinitialisation à minuit
        function scheduleHistoryReset() {
            const now = new Date();
            const midnight = new Date(now);
            midnight.setHours(23, 59, 59, 0); // Définir à 23h59min59s

            // Calculer le temps restant jusqu'à minuit
            const timeUntilMidnight = midnight - now;

            // Planifier la réinitialisation
            setTimeout(() => {
                resetHistory();
                scheduleHistoryReset(); // Replanifier pour le lendemain
            }, timeUntilMidnight);
        }

        // Démarrer la planification au chargement de la page
        document.addEventListener("DOMContentLoaded", function() {
            scheduleHistoryReset();
        });

        // Déconnexion
        function logoutUser() {
            localStorage.removeItem('userPhone');
            currentUser = null;
            document.getElementById('login-section').classList.remove('hidden');
            document.getElementById('account-section').classList.add('hidden');
            document.getElementById('phone-container').classList.remove('hidden');
        }

        // Functions to display sections
        function showLoginForm() {
            document.getElementById('login-section').classList.remove('hidden');
            document.getElementById('register-section').classList.add('hidden');
            document.getElementById('account-section').classList.add('hidden');
        }

        function showSignupForm() {
            document.getElementById('login-section').classList.add('hidden');
            document.getElementById('register-section').classList.remove('hidden');
            document.getElementById('account-section').classList.add('hidden');
        }

        function showAccountSection() {
            document.getElementById('login-section').classList.add('hidden');
            document.getElementById('register-section').classList.add('hidden');
            document.getElementById('account-section').classList.remove('hidden');
        }
        // Fonction pour ouvrir le modal d'opération
        function openOperationModal(operationType) {
            if (operationType === 'transfert') {
                currentOperation = operationType;
                document.getElementById('operationModalTitle').textContent = `Opération : ${operationType}`;
                document.getElementById('recipientPhoneContainer').style.display = 'block';
                document.getElementById('operationModal').style.display = 'flex'; // Utilisez 'flex' pour centrer
            }
        }

        // Fermer les modals en cliquant à l'extérieur
        window.addEventListener('click', function(event) {
            if (event.target.classList.contains('modal')) {
                event.target.style.display = 'none';
            }
        });

        // Fermer les modals avec le bouton de fermeture
        document.querySelectorAll('.close').forEach(function(closeButton) {
            closeButton.addEventListener('click', function() {
                closeButton.closest('.modal').style.display = 'none';
            });
        });

        // Vérifier la présence du nom au chargement de la page
        document.addEventListener("DOMContentLoaded", function() {
            const accountName = document.getElementById("account-name");
            const verificationCheck = document.getElementById("verification-check");

            // Vérifie si le nom de l'utilisateur est présent
            if (accountName && accountName.textContent.trim() !== "") {
                // Ajoute la coche bleue
                verificationCheck.classList.add("visible");
            }
        });

        // Gestion des gestes de glissement pour supprimer une transaction
        document.addEventListener("DOMContentLoaded", function() {
            const transactionHistory = document.getElementById('transaction-history');

            // Fonction pour supprimer une transaction
            function deleteTransaction(event) {
                const row = event.target.closest('tr');
                if (row) {
                    row.classList.add('swipe-left'); // Ajoute une classe pour l'animation
                    setTimeout(() => {
                        row.remove(); // Supprime la ligne après l'animation
                    }, 300); // Temps correspondant à la durée de l'animation
                }
            }

            // Utiliser Hammer.js pour détecter les gestes de glissement
            const hammer = new Hammer(transactionHistory);
            hammer.on('swipeleft', function(event) {
                const row = event.target.closest('tr');
                if (row) {
                    deleteTransaction(event);
                }
            });
        });
        
        // Fonction pour afficher une alerte stylée et centrée
        function showAlert(message, type = 'info', duration = 3000) {
            // Types d'icônes correspondants
            const icons = {
                success: 'fas fa-check-circle',
                error: 'fas fa-exclamation-circle',
                warning: 'fas fa-exclamation-triangle',
                info: 'fas fa-info-circle'
            };
            
            // Créer l'élément d'alerte
            const alertElement = document.createElement('div');
            alertElement.className = `alert ${type}`;
            alertElement.innerHTML = `<i class="${icons[type] || icons.info}"></i> ${message}`;
            
            // Ajouter au corps du document
            document.body.appendChild(alertElement);
            
            // Supprimer après la durée spécifiée
            setTimeout(() => {
                alertElement.remove();
            }, duration);
        }

        // Fonction pour afficher un message modal (version alternative si nécessaire)
        function showModalMessage(message, type = 'info') {
            showAlert(message, type);
        }
        
        // Fonctions pour gérer la politique de confidentialité
        function showPolicyModal() {
            document.getElementById('policyModal').style.display = 'flex';
        }

        function closePolicyModal() {
            document.getElementById('policyModal').style.display = 'none';
            // Marquer que l'utilisateur a accepté la politique
            if (currentUser) {
                localStorage.setItem(`policyAccepted_${currentUser.phone}`, 'true');
            }
        }

        function togglePolicyContinueButton() {
            const checkbox = document.getElementById('policyCheckbox');
            const continueButton = document.getElementById('continueButton');
            continueButton.disabled = !checkbox.checked;
        }

        // Vérifier si l'utilisateur est nouveau et doit accepter la politique
        function checkPolicyAcceptance(userPhone) {
            // Si l'utilisateur n'a pas encore accepté la politique
            if (!localStorage.getItem(`policyAccepted_${userPhone}`)) {
                showPolicyModal();
                // Bloquer l'accès au reste de l'application
                document.getElementById('account-section').style.pointerEvents = 'none';
                document.getElementById('account-section').style.opacity = '0.5';
            }
        }

        // Modifier la fonction de connexion pour vérifier la politique
        document.getElementById('login-form').addEventListener('submit', function(event) {
            event.preventDefault();
            const phone = document.getElementById('phone').value;
            const password = document.getElementById('password').value;

            showLoader();
            fetch(`https://script.google.com/macros/s/AKfycbx1XNzVxhVUa81Sdch5SFBS0-WC6UmZRJSGjDXNt6w876pIv5P8W1DLBZdCVt3t_3nh/exec?action=login&phone=${phone}&password=${password}`)
            .then(response => response.json())
            .then(data => {
                hideLoader();
                if (data.status === 'success') {
                    localStorage.setItem('userPhone', phone);
                    currentUser = data.user;
                    document.getElementById('login-section').classList.add('hidden');
                    document.getElementById('account-section').classList.remove('hidden');
                    document.getElementById('account-name').textContent = data.user.name;
                    document.getElementById('account-phone').textContent = data.user.phone;
                    document.getElementById('balanceText').textContent = data.user.balance;

                    // Vérifier la coche bleue
                    const accountName = document.getElementById("account-name");
                    const verificationCheck = document.getElementById("verification-check");
                    if (accountName && accountName.textContent.trim() !== "") {
                        verificationCheck.classList.add("visible");
                    }

                    loadHistory(phone);
                    
                    // Vérifier si l'utilisateur doit accepter la politique
                    checkPolicyAcceptance(phone);
                } else {
                    showModalMessage(data.message);
                }
            });
        });
        function onlyLetters(event) {
    // Autoriser la touche Backspace (code 8), Espace (code 32) et trait d'union (code 45)
    if (event.keyCode === 8 || event.keyCode === 32 || event.keyCode === 45) {
        return true;
    }
    
    // Autoriser les lettres (majuscules et minuscules) et caractères accentués
    const charCode = event.keyCode || event.which;
    const charStr = String.fromCharCode(charCode);
    
    // Expression régulière pour lettres et accents français
    if (/^[A-Za-zéèêëàâäôöûüçÉÈÊËÀÂÄÔÖÛÜÇ]+$/.test(charStr)) {
        return true;
    }
    
    // Bloquer tous les autres caractères
    event.preventDefault();
    return false;
}

// Validation supplémentaire lors de la soumission
function validateName(input) {
    const name = input.value;
    const nameRegex = /^[A-Za-zéèêëàâäôöûüçÉÈÊËÀÂÄÔÖÛÜÇ\s-]+$/;
    
    if (!nameRegex.test(name)) {
        input.setCustomValidity("Veuillez n'utiliser que des lettres");
        input.style.borderColor = "red";
        return false;
    } else {
        input.setCustomValidity("");
        input.style.borderColor = "";
        return true;
    }
}

// Appliquer la validation au champ
document.getElementById('register-name').addEventListener('input', function() {
    validateName(this);
});
// Gestion du menu hamburger
    document.querySelector('.hamburger-menu').addEventListener('click', function() {
        document.querySelector('.sidebar-menu').classList.add('open');
        document.querySelector('.menu-overlay').classList.add('active');
    });
    
    document.querySelector('.close-menu').addEventListener('click', function() {
        closeSidebar();
    });
    
    document.querySelector('.menu-overlay').addEventListener('click', function() {
        closeSidebar();
    });
    
    function closeSidebar() {
        document.querySelector('.sidebar-menu').classList.remove('open');
        document.querySelector('.menu-overlay').classList.remove('active');
    }
    
    // Fonctions pour les modals du menu
    function openMenuModal(modalType) {
        closeSidebar();
        
        // Récupérer les informations de l'utilisateur
        const user = currentUser || {
            name: "Nom Utilisateur",
            phone: "77XXXXXX",
            balance: "0.00",
            accountNumber: "WPXXXXXX",
            joinDate: "Pas définie",
            lastLogin: new Date().toLocaleString(),
            verified: true
        };
        function changePassword() {
    // Fermer le modal de sécurité s'il est ouvert
    closeMenuModal('securityModal');
    
    // Pré-remplir le numéro de compte Waripay si l'utilisateur est connecté
    if (currentUser) {
        document.getElementById('waripayAccount').value = currentUser.accountNumber || '';
        document.getElementById('waripayAccount').readOnly = true;
    } else {
        document.getElementById('waripayAccount').readOnly = false;
    }
    
    // Ouvrir le modal de changement de code
    document.getElementById('changePasswordModal').style.display = 'block';
    document.querySelector('.menu-overlay').classList.add('active');
}
        
        // Remplir le modal correspondant avec les informations
        switch(modalType) {
            case 'profile':
                document.getElementById('profileModalContent').innerHTML = `
                    <div class="user-info-item">
                        <div class="user-info-label">Nom complet:</div>
                        <div class="user-info-value">${user.name} ${user.verified ? '<i class="fas fa-check-circle verification-check"></i>' : ''}</div>
                    </div>
                    <div class="user-info-item">
                        <div class="user-info-label">Téléphone:</div>
                        <div class="user-info-value">${user.phone}</div>
                    </div>
                    <div class="user-info-item">
                        <div class="user-info-label">Date d'inscription:</div>
                        <div class="user-info-value">${user.joinDate}</div>
                    </div>
                    <div class="user-info-item">
                        <div class="user-info-label">Dernière connexion:</div>
                        <div class="user-info-value">${user.lastLogin}</div>
                    </div>
                `;
                document.getElementById('profileModal').style.display = 'block';
                break;
                
            case 'account':
                document.getElementById('accountModalContent').innerHTML = `
                    <div class="user-info-item">
                        <div class="user-info-label">Numéro de compte:</div>
                        <div class="user-info-value">${user.accountNumber}</div>
                    </div>
                    <div class="user-info-item">
                        <div class="user-info-label">Solde actuel:</div>
                        <div class="user-info-value">${user.balance} CFA</div>
                    </div>
                    <div class="user-info-item">
                        <div class="user-info-label">Statut du compte:</div>
                        <div class="user-info-value">Actif</div>
                    </div>
                    <div class="user-info-item">
                        <div class="user-info-label">Type de compte:</div>
                        <div class="user-info-value">Standard</div>
                    </div>
                `;
                document.getElementById('accountModal').style.display = 'block';
                break;
                
            case 'security':
                document.getElementById('securityModalContent').innerHTML = `
                    <div class="user-info-item">
                        <div class="user-info-label">Statut de vérification:</div>
                        <div class="user-info-value">${user.verified ? 'Compte vérifié' : 'Non vérifié'}</div>
                    </div>
                    <div class="user-info-item">
                        <div class="user-info-label">Dernière activité:</div>
                        <div class="user-info-value">${user.lastLogin}</div>
                    </div>
                    <div class="user-info-item">
                        <div class="user-info-label">Sécurité du compte:</div>
                        <div class="user-info-value">Fort</div>
                    </div>
                    <button class="btn-primary" style="width: 100%; margin-top: 15px;" onclick="changePassword()">
                        Changer le code secret
                    </button>
                `;
                document.getElementById('securityModal').style.display = 'block';
                break;
                
            case 'settings':
                document.getElementById('settingsModalContent').innerHTML = `
                    <div class="user-info-item">
                        <div class="user-info-label">Langue:</div>
                        <div class="user-info-value">Français</div>
                    </div>
                    <div class="user-info-item">
                        <div class="user-info-label">Notifications:</div>
                        <div class="user-info-value">Activées</div>
                    </div>
                    <div class="user-info-item">
                        <div class="user-info-label">Thème:</div>
                        <div class="user-info-value">Clair</div>
                    </div>
                    <button class="btn-primary" style="width: 100%; margin-top: 15px;" onclick="showPolicyModal()">
                        Politique de confidentialité
                    </button>
                `;
                document.getElementById('settingsModal').style.display = 'block';
                break;
                
            case 'help':
    document.getElementById('helpModalContent').innerHTML = `
        <div style="display: flex; flex-direction: column; gap: 10px;">
            <button class="modal-action-btn" onclick="window.open('mailto:waripay.contact@gmail.com', '_blank')">
                <i class="fas fa-envelope"></i> Contacter par email
            </button>
            <button class="modal-action-btn" onclick="window.open('tel:+22605585868', '_blank')">
                <i class="fas fa-phone"></i> Appeler le service client
            </button>
            <button class="modal-action-btn" onclick="window.open('https://waripay.nticsolution.org', '_blank')">
                <i class="fas fa-globe"></i> Visiter le site FAQ
            </button>
            <button class="modal-action-btn" onclick="contactSupport()">
                <i class="fas fa-comments"></i> Chat avec le support
            </button>
        </div>
    `;
    document.getElementById('helpModal').style.display = 'block';
    break;
        }
    } 
        
       
    function closeMenuModal(modalId) {
        document.getElementById(modalId).style.display = 'none';
        document.querySelector('.menu-overlay').classList.remove('active');
    }
    
    // Fermer les modals en cliquant à l'extérieur
    window.addEventListener('click', function(event) {
        if (event.target.classList.contains('menu-overlay')) {
            document.querySelectorAll('.menu-modal').forEach(modal => {
                modal.style.display = 'none';
            });
            document.querySelector('.menu-overlay').classList.remove('active');
        }
    });
    
    // Fonctions utilitaires
    function changePassword() {
        alert("Fonctionnalité de changement de code secret sera implémentée ici");
    }
    
    function contactSupport() {
        alert("Fonctionnalité de contact du support sera implémentée ici");
    }
    // Fonction pour mettre à jour l'heure et la date
    function updateDateTime() {
        const now = new Date();
        
        // Formater l'heure
        const hours = now.getHours().toString().padStart(2, '0');
        const minutes = now.getMinutes().toString().padStart(2, '0');
        const seconds = now.getSeconds().toString().padStart(2, '0');
        document.getElementById('currentTime').textContent = `${hours}:${minutes}:${seconds}`;
        
        // Formater la date
        const options = { 
            weekday: 'long', 
            year: 'numeric', 
            month: 'long', 
            day: 'numeric' 
        };
        const dateString = now.toLocaleDateString('fr-FR', options);
        document.getElementById('currentDate').textContent = dateString;
    }
    
    // Mettre à jour immédiatement
    updateDateTime();
    
    // Mettre à jour toutes les secondes
    setInterval(updateDateTime, 1000);
    
    // Pour le format français
    const frenchDays = ['Dimanche', 'Lundi', 'Mardi', 'Mercredi', 'Jeudi', 'Vendredi', 'Samedi'];
    const frenchMonths = ['janvier', 'février', 'mars', 'avril', 'mai', 'juin', 'juillet', 'août', 'septembre', 'octobre', 'novembre', 'décembre'];
// Fonction pour obtenir la position, la température et la localisation
    async function getWeatherAndLocation() {
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(
                async (position) => {
                    const lat = position.coords.latitude;
                    const lon = position.coords.longitude;
                    
                    try {
                        // Utilisation d'OpenWeatherMap (remplacez par votre clé API)
                        const apiKey = '1eb0c4e7dc7a2eb218d86ff178b1d6fe';
                        const weatherResponse = await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${apiKey}&units=metric&lang=fr`);
                        const weatherData = await weatherResponse.json();
                        
                        // Récupération du nom de la ville
                        const locationName = weatherData.name || "Position actuelle";
                        
                        // Utilisation de Nominatim pour le nom complet
                        const locationResponse = await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lon}`);
                        const locationData = await locationResponse.json();
                        const fullLocation = locationData.address?.city || 
                                            locationData.address?.town || 
                                            locationData.address?.village || 
                                            locationName;
                        
                        if (weatherData.main?.temp) {
                            const temp = Math.round(weatherData.main.temp);
                            const icon = getTemperatureIcon(temp);
                            
                            document.getElementById('currentTemperature').innerHTML = `${temp}°C`;
                            document.getElementById('currentLocation').textContent = fullLocation;
                            document.querySelector('.weather-icon').className = `weather-icon fas ${icon}`;
                        }
                    } catch (error) {
                        console.error("Erreur météo:", error);
                        document.getElementById('currentTemperature').textContent = "--°C";
                        document.getElementById('currentLocation').textContent = "Localisation inconnue";
                    }
                },
                (error) => {
                    console.error("Erreur géolocalisation:", error);
                    document.getElementById('currentTemperature').textContent = "--°C";
                    document.getElementById('currentLocation').textContent = "Activez la localisation";
                }
            );
        } else {
            document.getElementById('currentTemperature').textContent = "--°C";
            document.getElementById('currentLocation').textContent = "Géolocalisation non supportée";
        }
    }
    
    function getTemperatureIcon(temp) {
        if (temp >= 30) return 'fa-temperature-high';
        if (temp >= 20) return 'fa-sun';
        if (temp >= 10) return 'fa-cloud-sun';
        if (temp > 0) return 'fa-snowflake';
        return 'fa-icicles';
    }
    
    // Initialisation
    document.addEventListener("DOMContentLoaded", function() {
        getWeatherAndLocation();
        // Actualiser toutes les heures
        setInterval(getWeatherAndLocation, 3600000);
    });
    // Fonction pour générer le numéro de compte Waripay unique (WP + jour + année + 4 derniers chiffres du téléphone)
function generateWaripayAccountNumber(phoneNumber) {
    const now = new Date();
    const day = String(now.getDate()).padStart(2, '0'); // Jour sur 2 chiffres
    const year = now.getFullYear(); // Année sur 4 chiffres
    const lastFourDigits = phoneNumber.slice(-4); // 4 derniers chiffres du téléphone
    
    return `WP${day}${year}${lastFourDigits}`;
}

// Fonction pour mettre à jour les informations utilisateur dans le menu hamburger
function updateUserMenuInfo(user) {
    // Générer le numéro de compte Waripay
    const waripayAccountNumber = generateWaripayAccountNumber(user.phone);
    
    // Mettre à jour les informations dans le menu profil
    document.getElementById('profileModalContent').innerHTML = `
        <div class="user-info-item">
            <div class="user-info-label">Nom complet:</div>
            <div class="user-info-value">${user.name} ${user.verified ? '<i class="fas fa-check-circle verification-check"></i>' : ''}</div>
        </div>
        <div class="user-info-item">
            <div class="user-info-label">Téléphone:</div>
            <div class="user-info-value">${user.phone}</div>
        </div>
        <div class="user-info-item">
            <div class="user-info-label">Numéro de compte:</div>
            <div class="user-info-value">${waripayAccountNumber}</div>
        </div>
        <div class="user-info-item">
            <div class="user-info-label">Date d'inscription:</div>
            <div class="user-info-value">${new Date().toLocaleDateString('fr-FR')}</div>
        </div>
        <div class="user-info-item">
            <div class="user-info-label">Dernière activité:</div>
            <div class="user-info-value">${new Date().toLocaleString('fr-FR')}</div>
        </div>
    `;
    
    // Mettre à jour les informations dans le menu compte
    document.getElementById('accountModalContent').innerHTML = `
        <div class="user-info-item">
            <div class="user-info-label">Numéro de compte:</div>
            <div class="user-info-value">${waripayAccountNumber}</div>
        </div>
        <div class="user-info-item">
            <div class="user-info-label">Solde actuel:</div>
            <div class="user-info-value">${user.balance} CFA</div>
        </div>
        <div class="user-info-item">
            <div class="user-info-label">Statut du compte:</div>
            <div class="user-info-value">Actif</div>
        </div>
        <div class="user-info-item">
            <div class="user-info-label">Type de compte:</div>
            <div class="user-info-value">Standard</div>
        </div>
    `;
    
    // Mettre à jour les informations dans le menu sécurité
    document.getElementById('securityModalContent').innerHTML = `
        <div class="user-info-item">
            <div class="user-info-label">Statut de vérification:</div>
            <div class="user-info-value">${user.verified ? 'Compte vérifié' : 'Non vérifié'}</div>
        </div>
        <div class="user-info-item">
            <div class="user-info-label">Dernière activité:</div>
            <div class="user-info-value">${new Date().toLocaleString('fr-FR')}</div>
        </div>
        <div class="user-info-item">
            <div class="user-info-label">Sécurité du compte:</div>
            <div class="user-info-value">Fort</div>
        </div>
        <button class="btn-primary" style="width: 100%; margin-top: 15px;" onclick="changePassword()">
            Changer le code secret
        </button>
    `;
    
    // Stocker le numéro de compte dans l'objet utilisateur
    user.accountNumber = waripayAccountNumber;
}

// Modifier la fonction de connexion pour inclure la mise à jour des informations du menu
document.getElementById('login-form').addEventListener('submit', function(event) {
    event.preventDefault();
    const phone = document.getElementById('phone').value;
    const password = document.getElementById('password').value;

    showLoader();
    fetch(`https://script.google.com/macros/s/AKfycbx1XNzVxhVUa81Sdch5SFBS0-WC6UmZRJSGjDXNt6w876pIv5P8W1DLBZdCVt3t_3nh/exec?action=login&phone=${phone}&password=${password}`)
    .then(response => response.json())
    .then(data => {
        hideLoader();
        if (data.status === 'success') {
            localStorage.setItem('userPhone', phone);
            currentUser = data.user;
            
            // Mettre à jour les informations du menu
            updateUserMenuInfo(currentUser);
            
            document.getElementById('login-section').classList.add('hidden');
            document.getElementById('account-section').classList.remove('hidden');
            document.getElementById('account-name').textContent = data.user.name;
            document.getElementById('account-phone').textContent = data.user.phone;
            document.getElementById('balanceText').textContent = data.user.balance;

            // Vérifier la coche bleue
            const accountName = document.getElementById("account-name");
            const verificationCheck = document.getElementById("verification-check");
            if (accountName && accountName.textContent.trim() !== "") {
                verificationCheck.classList.add("visible");
            }

            loadHistory(phone);
            
            // Vérifier si l'utilisateur doit accepter la politique
            checkPolicyAcceptance(phone);
        } else {
            showModalMessage(data.message);
        }
    });
});
// Fonction pour gérer la visibilité du menu hamburger
function toggleHamburgerMenu() {
    const hamburgerMenu = document.querySelector('.hamburger-menu');
    const isLoginVisible = !document.getElementById('login-section').classList.contains('hidden');
    const isRegisterVisible = !document.getElementById('register-section').classList.contains('hidden');
    const isAccountVisible = !document.getElementById('account-section').classList.contains('hidden');

    if (isLoginVisible || isRegisterVisible) {
        // Masquer dans les sections de connexion et d'inscription
        hamburgerMenu.style.display = 'none';
    } else if (isAccountVisible) {
        // Afficher uniquement dans la section compte
        hamburgerMenu.style.display = 'block';
    }
}

// Modifier les fonctions de changement de section
function showLoginForm() {
    document.getElementById('login-section').classList.remove('hidden');
    document.getElementById('register-section').classList.add('hidden');
    document.getElementById('account-section').classList.add('hidden');
    toggleHamburgerMenu();
}

function showSignupForm() {
    document.getElementById('login-section').classList.add('hidden');
    document.getElementById('register-section').classList.remove('hidden');
    document.getElementById('account-section').classList.add('hidden');
    toggleHamburgerMenu();
}

function showAccountSection() {
    document.getElementById('login-section').classList.add('hidden');
    document.getElementById('register-section').classList.add('hidden');
    document.getElementById('account-section').classList.remove('hidden');
    toggleHamburgerMenu();
}

// Dans la fonction de connexion réussie
document.getElementById('login-form').addEventListener('submit', function(event) {
    event.preventDefault();
    // ... [votre code existant de connexion] ...
    
    if (data.status === 'success') {
        // ... [votre code existant] ...
        showAccountSection(); // Cela déclenchera automatiquement l'affichage du menu
    }
});

// Initialisation au chargement
document.addEventListener("DOMContentLoaded", function() {
    // Cache le menu par défaut (sur la page de connexion)
    toggleHamburgerMenu();
});
// Fonction centrale pour gérer la visibilité
function toggleHamburgerMenu() {
    const hamburgerMenu = document.querySelector('.hamburger-menu');
    const isAccountVisible = !document.getElementById('account-section').classList.contains('hidden');
    
    // Afficher uniquement dans la section compte
    hamburgerMenu.style.display = isAccountVisible ? 'block' : 'none';
}

// Appeler cette fonction à chaque changement d'état
function showLoginForm() {
    document.getElementById('login-section').classList.remove('hidden');
    document.getElementById('register-section').classList.add('hidden');
    document.getElementById('account-section').classList.add('hidden');
    toggleHamburgerMenu();
}

function showSignupForm() {
    document.getElementById('login-section').classList.add('hidden');
    document.getElementById('register-section').classList.remove('hidden');
    document.getElementById('account-section').classList.add('hidden');
    toggleHamburgerMenu();
}

function showAccountSection() {
    document.getElementById('login-section').classList.add('hidden');
    document.getElementById('register-section').classList.add('hidden');
    document.getElementById('account-section').classList.remove('hidden');
    toggleHamburgerMenu();
}
function logoutUser() {
    localStorage.removeItem('userPhone');
    currentUser = null;
    document.getElementById('login-section').classList.remove('hidden');
    document.getElementById('account-section').classList.add('hidden');
    document.getElementById('phone-container').classList.remove('hidden');
    
    // AJOUTER CETTE LIGNE :
    toggleHamburgerMenu(); // Cacher le menu en revenant à la page de connexion
}
document.getElementById('login-form').addEventListener('submit', function(event) {
    event.preventDefault();
    const phone = document.getElementById('phone').value;
    const password = document.getElementById('password').value;

    showLoader();
    fetch(`https://script.google.com/macros/s/AKfycbx1XNzVxhVUa81Sdch5SFBS0-WC6UmZRJSGjDXNt6w876pIv5P8W1DLBZdCVt3t_3nh/exec?action=login&phone=${phone}&password=${password}`)
    .then(response => response.json())
    .then(data => {
        hideLoader();
        if (data.status === 'success') {
            localStorage.setItem('userPhone', phone);
            currentUser = data.user;
            document.getElementById('login-section').classList.add('hidden');
            document.getElementById('account-section').classList.remove('hidden');
            // ... autres mises à jour ...
            
            // AJOUTER CETTE LIGNE :
            toggleHamburgerMenu(); // Afficher le menu maintenant qu'on est dans la section compte
        } else {
            showModalMessage(data.message);
        }
    });
});
// Modifier la fonction executeOperation pour vérifier le numéro du destinataire
function executeOperation() {
    const amount = document.getElementById('amount').value;
    const recipientPhone = document.getElementById('recipientPhone').value;

    // Vérifier si l'utilisateur essaie de transférer à son propre numéro
    if (currentOperation === 'transfert' && recipientPhone === currentUser.phone) {
        showAlert("Vous ne pouvez pas faire un transfert à votre propre numéro", "error");
        return; // Arrêter l'exécution
    }

    const operationData = {
        action: 'operation',
        phone: currentUser.phone,
        amount: parseFloat(amount),
        operationType: currentOperation,
        recipientPhone: recipientPhone || null
    };

    showLoader();
    fetch('https://script.google.com/macros/s/AKfycbx1XNzVxhVUa81Sdch5SFBS0-WC6UmZRJSGjDXNt6w876pIv5P8W1DLBZdCVt3t_3nh/exec', {
        method: 'POST',
        body: JSON.stringify(operationData)
    })
    .then(response => response.json())
    .then(data => {
        hideLoader();
        if (data.status === 'success') {
            document.getElementById('balanceText').textContent = data.user.balance;
            loadHistory(currentUser.phone);
            showModalMessage('Opération réussie!', '😎');
            closeModal('operationModal');
        } else {
            showModalMessage(data.message, '😥');
        }
    });
}
// Ajouter cet écouteur d'événement après le chargement du DOM
document.addEventListener("DOMContentLoaded", function() {
    const recipientPhoneInput = document.getElementById('recipientPhone');
    
    if (recipientPhoneInput) {
        recipientPhoneInput.addEventListener('input', function() {
            if (currentUser && this.value === currentUser.phone) {
                showAlert("Vous ne pouvez pas transférer à votre propre numéro", "error");
            }
        });
    }
});
// Basculer la visibilité du solde
function toggleBalanceVisibility() {
    const balanceText = document.getElementById('balanceText');
    const toggleBalanceIcon = document.getElementById('toggleBalanceIcon');

    if (balanceText.textContent === '******* F') {
        // Afficher le modal seulement quand on montre le solde (pas quand on le cache)
        document.getElementById('balanceUpdateModal').style.display = 'flex';
        
        balanceText.textContent = `${currentUser.balance.toFixed(2)} CFA`;
        toggleBalanceIcon.classList.remove('fa-eye');
        toggleBalanceIcon.classList.add('fa-eye-slash');
    } else {
        balanceText.textContent = '******* F';
        toggleBalanceIcon.classList.remove('fa-eye-slash');
        toggleBalanceIcon.classList.add('fa-eye');
    }
}
        // Fonction pour activer/désactiver le bouton Continuer
    function togglePolicyContinueButton() {
        const checkbox = document.getElementById('policyCheckbox');
        const continueButton = document.getElementById('continueButton');
        continueButton.disabled = !checkbox.checked;
        
        // Changement de style quand actif
        if (!continueButton.disabled) {
            continueButton.style.backgroundColor = '#2980b9';
        } else {
            continueButton.style.backgroundColor = '#3498db';
        }
    }
    
    // Fonction pour accepter la politique
    function acceptPolicy() {
        // Enregistrer l'acceptation dans le stockage local
        localStorage.setItem('policyAccepted', 'true');
        
        // Fermer le modal
        closePolicyModal();
        
        // Ici vous pouvez ajouter d'autres actions nécessaires après acceptation
        // Par exemple, charger le contenu principal de l'application
    }
    
    // Fonction pour fermer le modal
    function closePolicyModal() {
        document.getElementById('policyModal').style.display = 'none';
    }
    
    // Vérifier au chargement si la politique a déjà été acceptée
    window.onload = function() {
        if (localStorage.getItem('policyAccepted') !== 'true') {
            document.getElementById('policyModal').style.display = 'block';
        }
    };
    
// Empêcher la fermeture de la politique en cliquant à l'extérieur
document.getElementById('policyModal').addEventListener('click', function(event) {
    if (event.target === this) {
        // Ne rien faire si on clique sur l'arrière-plan
        event.stopPropagation();
    }
});

// Fonction pour afficher la politique
function showPolicyModal() {
    document.getElementById('policyModal').style.display = 'flex';
    document.getElementById('policyCheckbox').checked = false;
    togglePolicyContinueButton();
}

// Fonction pour fermer la politique (uniquement via le bouton × ou "Continuer")
function closePolicyModal() {
    document.getElementById('policyModal').style.display = 'none';
}

// Fonction pour accepter la politique
function acceptPolicy() {
    if (document.getElementById('policyCheckbox').checked) {
        localStorage.setItem('policyAccepted', 'true');
        closePolicyModal();
        // Réactiver l'application si elle était bloquée
        document.getElementById('account-section').style.pointerEvents = 'auto';
        document.getElementById('account-section').style.opacity = '1';
    }
}

// Fonction pour vérifier l'acceptation de la politique
function checkPolicyAcceptance(userPhone) {
    if (!localStorage.getItem(`policyAccepted_${userPhone}`)) {
        showPolicyModal();
        // Bloquer l'accès au reste de l'application
        document.getElementById('account-section').style.pointerEvents = 'none';
        document.getElementById('account-section').style.opacity = '0.5';
    }
}

// Fonction pour ouvrir le modal de changement de code
function openChangePasswordModal() {
    document.getElementById('changePasswordModal').style.display = 'block';
    document.querySelector('.menu-overlay').classList.add('active');
    
    // Pré-remplir le numéro de compte si l'utilisateur est connecté
    if (currentUser) {
        document.getElementById('accountNumber').value = currentUser.accountNumber || currentUser.phone;
        document.getElementById('accountNumber').readOnly = true;
    }
}

// Fonction pour soumettre le changement de code
function submitPasswordChange() {
    const accountNumber = document.getElementById('accountNumber').value;
    const oldPassword = document.getElementById('oldPassword').value;
    const newPassword = document.getElementById('newPassword').value;
    const confirmNewPassword = document.getElementById('confirmNewPassword').value;

    // Validation
    if (newPassword !== confirmNewPassword) {
        showAlert("Les nouveaux codes ne correspondent pas", "error");
        return;
    }
    
    if (newPassword.length !== 4 || !/^\d+$/.test(newPassword)) {
        showAlert("Le nouveau code doit contenir exactement 4 chiffres", "error");
        return;
    }

    const changeData = {
        action: 'changePassword',
        phone: currentUser.phone,
        oldPassword: oldPassword,
        newPassword: newPassword
    };

    showLoader();
    fetch('https://script.google.com/macros/s/AKfycbx1XNzVxhVUa81Sdch5SFBS0-WC6UmZRJSGjDXNt6w876pIv5P8W1DLBZdCVt3t_3nh/exec', {
        method: 'POST',
        body: JSON.stringify(changeData)
    })
    .then(response => response.json())
    .then(data => {
        hideLoader();
        if (data.status === 'success') {
            showAlert("Code secret changé avec succès", "success");
            closeMenuModal('changePasswordModal');
        } else {
            showAlert(data.message || "Erreur lors du changement de code", "error");
        }
    })
    .catch(error => {
        hideLoader();
        showAlert("Erreur réseau: " + error.message, "error");
    });
}
function changePassword() {
    // Fermer le modal de sécurité s'il est ouvert
    closeMenuModal('securityModal');
    
    // Pré-remplir le numéro de compte Waripay si l'utilisateur est connecté
    if (currentUser) {
        document.getElementById('accountNumber').value = currentUser.accountNumber || currentUser.phone;
        document.getElementById('accountNumber').readOnly = true;
    } else {
        document.getElementById('accountNumber').readOnly = false;
    }
    
    // Ouvrir le modal de changement de code
    document.getElementById('changePasswordModal').style.display = 'block';
    document.querySelector('.menu-overlay').classList.add('active');
}
// Dans la fonction openMenuModal, ajoutez ces cas :
function openMenuModal(modalType) {
    closeSidebar();
    
    // ... [votre code existant] ...
    
    switch(modalType) {
        // ... [vos cas existants] ...
        
        case 'fraude':
            document.getElementById('fraudeModal').style.display = 'block';
            break;
            
        case 'avis':
            document.getElementById('avisModal').style.display = 'block';
            break;
    }
    
    document.querySelector('.menu-overlay').classList.add('active');
}

// Gestion du formulaire de signalement de fraude
document.getElementById('fraudeForm').addEventListener('submit', function(e) {
    e.preventDefault();
    
    const account = document.getElementById('fraudeAccount').value;
    const type = document.getElementById('fraudeType').value;
    const description = document.getElementById('fraudeDescription').value;
    const proof = document.getElementById('fraudeProof').files[0];
    
    // Vérifier la longueur de la description
    const wordCount = description.trim().split(/\s+/).length;
    if (wordCount < 85) {
        showAlert("La description doit contenir au moins 85 mots", "error");
        return;
    }
    
    // Ici vous ajouteriez le code pour envoyer les données au serveur
    showLoader();
    setTimeout(() => {
        hideLoader();
        showAlert("Votre signalement a été envoyé avec succès", "success");
        closeMenuModal('fraudeModal');
        document.getElementById('fraudeForm').reset();
    }, 2000);
});

// Gestion du formulaire d'avis
document.getElementById('avisForm').addEventListener('submit', function(e) {
    e.preventDefault();
    
    const name = document.getElementById('avisName').value;
    const text = document.getElementById('avisText').value;
    
    // Vérifier la longueur de l'avis
    const wordCount = text.trim().split(/\s+/).length;
    if (wordCount < 50) {
        showAlert("Votre avis doit contenir au moins 50 mots", "error");
        return;
    }
    
    // Ici vous ajouteriez le code pour envoyer les données au serveur
    showLoader();
    setTimeout(() => {
        hideLoader();
        showAlert("Merci pour votre avis!", "success");
        closeMenuModal('avisModal');
        document.getElementById('avisForm').reset();
    }, 2000);
});
// Fonction pour ouvrir un modal du menu
function openMenuModal(modalType) {
    closeSidebar();
    
    // Fermer tous les autres modals du menu d'abord
    document.querySelectorAll('.menu-modal').forEach(modal => {
        modal.style.display = 'none';
    });
    
    // Ouvrir le modal spécifique
    const modalId = modalType + 'Modal';
    if (document.getElementById(modalId)) {
        document.getElementById(modalId).style.display = 'block';
        document.querySelector('.menu-overlay').classList.add('active');
        
        // Remplir le contenu si nécessaire
        if (modalType === 'profile' || modalType === 'account' || modalType === 'security') {
            fillMenuModalContent(modalType);
        }
    }
}

// Fonction pour fermer un modal spécifique
function closeMenuModal(modalId) {
    if (document.getElementById(modalId)) {
        document.getElementById(modalId).style.display = 'none';
        document.querySelector('.menu-overlay').classList.remove('active');
    }
}

function openMenuModal(modalType) {
    closeSidebar();
    
    // Récupérer les informations de l'utilisateur
    const user = currentUser || {
        name: "Nom Utilisateur",
        phone: "77XXXXXX",
        balance: "0.00",
        accountNumber: "WPXXXXXX",
        joinDate: "Pas définie",
        lastLogin: new Date().toLocaleString(),
        verified: true
    };
    
    // Fermer tous les modals d'abord
    document.querySelectorAll('.menu-modal').forEach(modal => {
        modal.style.display = 'none';
    });
    
    // Remplir et afficher le modal correspondant
    switch(modalType) {
        case 'profile':
            document.getElementById('profileModalContent').innerHTML = `
                <div class="user-info-item">
                    <div class="user-info-label">Nom complet:</div>
                    <div class="user-info-value">${user.name} ${user.verified ? '<i class="fas fa-check-circle verification-check"></i>' : ''}</div>
                </div>
                <div class="user-info-item">
                    <div class="user-info-label">Téléphone:</div>
                    <div class="user-info-value">${user.phone}</div>
                </div>
                <div class="user-info-item">
                    <div class="user-info-label">Numéro de compte:</div>
                    <div class="user-info-value">${user.accountNumber}</div>
                </div>
                <div class="user-info-item">
                    <div class="user-info-label">Date d'inscription:</div>
                    <div class="user-info-value">${user.joinDate}</div>
                </div>
                <div class="user-info-item">
                    <div class="user-info-label">Dernière activité:</div>
                    <div class="user-info-value">${user.lastLogin}</div>
                </div>
            `;
            document.getElementById('profileModal').style.display = 'block';
            break;
            
        case 'account':
            document.getElementById('accountModalContent').innerHTML = `
                <div class="user-info-item">
                    <div class="user-info-label">Numéro de compte:</div>
                    <div class="user-info-value">${user.accountNumber}</div>
                </div>
                <div class="user-info-item">
                    <div class="user-info-label">Solde actuel:</div>
                    <div class="user-info-value">${user.balance} CFA</div>
                </div>
                <div class="user-info-item">
                    <div class="user-info-label">Statut du compte:</div>
                    <div class="user-info-value">Actif</div>
                </div>
                <div class="user-info-item">
                    <div class="user-info-label">Type de compte:</div>
                    <div class="user-info-value">Standard</div>
                </div>
            `;
            document.getElementById('accountModal').style.display = 'block';
            break;
            
        case 'security':
            document.getElementById('securityModalContent').innerHTML = `
                <div class="user-info-item">
                    <div class="user-info-label">Statut de vérification:</div>
                    <div class="user-info-value">${user.verified ? 'Compte vérifié' : 'Non vérifié'}</div>
                </div>
                <div class="user-info-item">
                    <div class="user-info-label">Dernière activité:</div>
                    <div class="user-info-value">${user.lastLogin}</div>
                </div>
                <div class="user-info-item">
                    <div class="user-info-label">Sécurité du compte:</div>
                    <div class="user-info-value">Fort</div>
                </div>
                <button class="btn-primary" style="width: 100%; margin-top: 15px;" onclick="changePassword()">
                    Changer le code secret
                </button>
            `;
            document.getElementById('securityModal').style.display = 'block';
            break;
            
        case 'settings':
            document.getElementById('settingsModalContent').innerHTML = `
                <div class="user-info-item">
                    <div class="user-info-label">Langue:</div>
                    <div class="user-info-value">Français</div>
                </div>
                <div class="user-info-item">
                    <div class="user-info-label">Notifications:</div>
                    <div class="user-info-value">Activées</div>
                </div>
                <div class="user-info-item">
                    <div class="user-info-label">Thème:</div>
                    <div class="user-info-value">Clair</div>
                </div>
                <button class="btn-primary" style="width: 100%; margin-top: 15px;" onclick="showPolicyModal()">
                    Politique de confidentialité
                </button>
            `;
            document.getElementById('settingsModal').style.display = 'block';
            break;
            
        case 'help':
            document.getElementById('helpModalContent').innerHTML = `
                <div class="user-info-item">
                    <div class="user-info-label">Centre d'aide:</div>
                    <div class="user-info-value">waripay.contact@gmail.com</div>
                </div>
                <div class="user-info-item">
                    <div class="user-info-label">Service client:</div>
                    <div class="user-info-value">+226 05585868</div>
                </div>
                <div class="user-info-item">
                    <div class="user-info-label">FAQ en ligne:</div>
                    <div class="user-info-value">https://waripay.nticsolution.org</div>
                </div>
                <button class="btn-primary" style="width: 100%; margin-top: 15px;" onclick="contactSupport()">
                    Contacter le support
                </button>
            `;
            document.getElementById('helpModal').style.display = 'block';
            break;
            
        case 'fraude':
            document.getElementById('fraudeModal').style.display = 'block';
            break;
            
        case 'avis':
            document.getElementById('avisModal').style.display = 'block';
            break;
    }
    
    document.querySelector('.menu-overlay').classList.add('active');
}
// Fermer les modals en cliquant à l'extérieur
window.addEventListener('click', function(event) {
    if (event.target.classList.contains('menu-overlay')) {
        document.querySelectorAll('.menu-modal').forEach(modal => {
            modal.style.display = 'none';
        });
        document.querySelector('.menu-overlay').classList.remove('active');
    }
});
function contactSupport() {
    // Vous pouvez intégrer ici un système de chat ou ouvrir WhatsApp
    const phone = "+22605585868";
    const message = "Bonjour, j'ai besoin d'aide avec l'application WariPay";
    
    if (navigator.userAgent.toLowerCase().indexOf('android') > -1 || 
        navigator.userAgent.match(/(iPad|iPhone|iPod)/g)) {
        // Ouvrir WhatsApp sur mobile
        window.open(`https://wa.me/${phone}?text=${encodeURIComponent(message)}`, '_blank');
    } else {
        // Fallback pour desktop
        window.open(`https://web.whatsapp.com/send?phone=${phone}&text=${encodeURIComponent(message)}`, '_blank');
    }
}

// Modifiez votre fonction existante pour utiliser cette approche
function shareApp() {
    // D'abord essayer le partage natif
    checkNativeShare();
}
// Fonctions de partage
function shareApp() {
    // Essayer d'abord le partage natif
    if (navigator.share) {
        navigator.share({
            title: 'WariPay - Paiement Mobile',
            text: 'Découvrez WariPay, la solution de paiement mobile sécurisée',
            url: 'https://waripay.nticsolution.org'
        }).catch(() => {
            // Si l'utilisateur annule, ouvrir notre modal personnalisé
            openMenuModal('shareModal');
        });
    } else {
        // API de partage non disponible, utiliser notre modal
        openMenuModal('shareModal');
    }
}

function shareVia(platform) {
    const shareUrl = 'https://waripay.nticsolution.org';
    const shareText = 'Découvrez WariPay - La solution de paiement mobile sécurisée. Transférez, retirez et payez en toute confiance!';
    
    switch(platform) {
        case 'whatsapp':
            window.open(`https://wa.me/?text=${encodeURIComponent(shareText + ' ' + shareUrl)}`, '_blank');
            break;
        case 'facebook':
            window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(shareUrl)}`, '_blank');
            break;
        case 'twitter':
            window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(shareText)}&url=${encodeURIComponent(shareUrl)}`, '_blank');
            break;
        case 'telegram':
            window.open(`https://t.me/share/url?url=${encodeURIComponent(shareUrl)}&text=${encodeURIComponent(shareText)}`, '_blank');
            break;
        case 'email':
            window.open(`mailto:?subject=WariPay - Paiement Mobile&body=${encodeURIComponent(shareText + '\n\n' + shareUrl)}`, '_blank');
            break;
    }
}

function copyShareLink() {
    const shareUrl = 'https://waripay.nticsolution.org';
    navigator.clipboard.writeText(shareUrl).then(() => {
        const copySuccess = document.getElementById('copySuccess');
        copySuccess.style.display = 'block';
        copySuccess.style.animation = 'fadeInOut 3s forwards';
        
        setTimeout(() => {
            copySuccess.style.display = 'none';
        }, 3000);
    });
}

// Fonction d'évaluation
function rateApp() {
    // Android
    if (/android/i.test(navigator.userAgent)) {
        window.open('market://details?id=waripay.com', '_blank');
    } 
    // iOS
    else if (/iphone|ipad|ipod/i.test(navigator.userAgent)) {
        window.open('itms-apps://itunes.apple.com/app/Waripay.com', '_blank');
    } 
    // Web
    else {
        window.open('https://waripay.nticsolution.org', '_blank');
    }
}
// Fonction pour ouvrir le modal de partage
function openShareModal() {
    const modal = document.getElementById('shareModal');
    modal.style.display = 'block';
    
    // Ajouter l'overlay
    const overlay = document.createElement('div');
    overlay.className = 'modal-overlay';
    overlay.onclick = () => closeModal('shareModal');
    document.body.appendChild(overlay);
    
    // Empêcher le défilement du body
    document.body.style.overflow = 'hidden';
}

// Fonction pour fermer le modal
function closeModal(modalId) {
    const modal = document.getElementById(modalId);
    if (modal) {
        modal.style.display = 'none';
    }
    
    // Supprimer l'overlay
    const overlay = document.querySelector('.modal-overlay');
    if (overlay) {
        overlay.remove();
    }
    
    // Rétablir le défilement du body
    document.body.style.overflow = '';
}

// Fonction de partage générique
function shareVia(platform) {
    const shareUrl = 'https://waripay.nticsolution.org';
    const shareText = 'Découvrez WariPay - La solution de paiement mobile sécurisée. Transférez, retirez et payez en toute confiance!';
    
    let url;
    
    switch(platform) {
        case 'whatsapp':
            url = `https://wa.me/?text=${encodeURIComponent(shareText + ' ' + shareUrl)}`;
            break;
        case 'facebook':
            url = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(shareUrl)}`;
            break;
        case 'twitter':
            url = `https://twitter.com/intent/tweet?text=${encodeURIComponent(shareText)}&url=${encodeURIComponent(shareUrl)}`;
            break;
        case 'telegram':
            url = `https://t.me/share/url?url=${encodeURIComponent(shareUrl)}&text=${encodeURIComponent(shareText)}`;
            break;
        case 'sms':
            url = `sms:?body=${encodeURIComponent(shareText + ' ' + shareUrl)}`;
            break;
        default:
            return;
    }
    
    window.open(url, '_blank');
    closeModal('shareModal');
}

// Fonction pour copier le lien
function copyShareLink() {
    const shareUrl = 'https://waripay.nticsolution.org';
    
    navigator.clipboard.writeText(shareUrl).then(() => {
        const copySuccess = document.getElementById('copySuccess');
        copySuccess.style.display = 'block';
        
        // Masquer après 3 secondes
        setTimeout(() => {
            copySuccess.style.display = 'none';
        }, 3000);
    }).catch(err => {
        console.error('Erreur lors de la copie : ', err);
        alert("Impossible de copier le lien, veuillez réessayer.");
    });
}

// Utilisation de l'API de partage natif si disponible
function checkNativeShare() {
    if (navigator.share) {
        navigator.share({
            title: 'WariPay - Paiement Mobile',
            text: 'Découvrez WariPay, la solution de paiement mobile sécurisée',
            url: 'https://waripay.nticsolution.org'
        }).catch(err => {
            console.log('Partage annulé :', err);
            // Fallback à notre modal personnalisé
            openShareModal();
        });
    } else {
        // API de partage non disponible, utiliser notre modal
        openShareModal();
    }
}

// Écouteur pour le bouton de partage principal
document.addEventListener('DOMContentLoaded', function() {
    const shareButtons = document.querySelectorAll('[onclick="shareApp()"], [onclick="openShareModal()"]');
    
    shareButtons.forEach(btn => {
        btn.onclick = function(e) {
            e.preventDefault();
            checkNativeShare();
        };
    });
});

 // Fonction pour vérifier si on est sur la page de connexion
    function checkLoginPage() {
        const loginSection = document.getElementById('login-section');
        const registerSection = document.getElementById('register-section');
        const accountSection = document.getElementById('account-section');
        
        // Afficher le bouton uniquement si la section de connexion est visible
        if (!loginSection.classList.contains('hidden') && 
            registerSection.classList.contains('hidden') && 
            accountSection.classList.contains('hidden')) {
            document.getElementById('whatsappButton').classList.remove('hidden');
        } else {
            document.getElementById('whatsappButton').classList.add('hidden');
        }
    }
    
    // Vérifier au chargement de la page
    document.addEventListener('DOMContentLoaded', checkLoginPage);
    
    // Vérifier à chaque changement de section
    function showLoginForm() {
        document.getElementById('login-section').classList.remove('hidden');
        document.getElementById('register-section').classList.add('hidden');
        document.getElementById('account-section').classList.add('hidden');
        toggleHamburgerMenu();
        checkLoginPage(); // Ajout de cette ligne
    }
    
    function showSignupForm() {
        document.getElementById('login-section').classList.add('hidden');
        document.getElementById('register-section').classList.remove('hidden');
        document.getElementById('account-section').classList.add('hidden');
        toggleHamburgerMenu();
        checkLoginPage(); // Ajout de cette ligne
    }
    
    function showAccountSection() {
        document.getElementById('login-section').classList.add('hidden');
        document.getElementById('register-section').classList.add('hidden');
        document.getElementById('account-section').classList.remove('hidden');
        toggleHamburgerMenu();
        checkLoginPage(); // Ajout de cette ligne
    }
    // Optionnel: Ajouter une pulsation occasionnelle
document.addEventListener('DOMContentLoaded', function() {
    const whatsappBtn = document.querySelector('.whatsapp-float');
    
    // Pulsation toutes les 10 secondes
    setInterval(() => {
        whatsappBtn.classList.add('pulse');
        setTimeout(() => {
            whatsappBtn.classList.remove('pulse');
        }, 1500);
    }, 10000);
});
        // [Toutes les fonctions précédentes restent inchangées jusqu'à la fin du script]
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/hammer.js/2.0.8/hammer.min.js"></script>
</body>
</html>i'